<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/default}">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta charset="utf-8" />
<title>Update Custodian Page</title>

<th:block layout:fragment="styles">
</th:block>
</head>
<body>
	<div>
		<div class="main-container">
			<div class="main-content">
				<div class="page-content" layout:fragment="content">
					<div class="page-header">
						<h1>
							<i class="ace-icon fa fa-user-plus"></i> Update Custodian details
						</h1>
					</div>
					<!-- /.page-header -->
					<div class="row">
						<div th:if="${message}">
							<h2 class="alert alert-danger" th:text="${message}" />
						</div>
						<div class="space-12"></div>
						<form th:action="@{/updateCustodian}" action="/updateCustodian"
							class="form-horizontal" data-toggle="validator" role="form"
							th:object="${custodian}" method="POST" modelAttribute="custodian">
							<input type="hidden" name="id" th:value="${custodianValue.id}"/>
							<div class="col-sm-7 col-sm-offset-2">
								<div class="profile-user-info profile-user-info-striped">
									<div class="profile-info-row">
										<div class="profile-info-name">Custodian Type *</div>
										<div class="profile-info-value form-group">
		 	                                <select class="chosen-select form-control" id="idCustodianType" name="custodianType" required>
			                                    <option value="A-Panel"> A-Panel </option>
			                                   	<option value="B-Panel"> B-Panel </option>
			                                </select>                                           
												<div class="help-block with-errors"></div>
										</div>										
									</div>
									<div class="profile-info-row">
										<div class="profile-info-name">Custodian Name *</div>
										<div class="profile-info-value form-group">
											<input class="form-control" name="custodianName"
												th:value="${custodianValue.custodianName}"
												data-error="Please enter custodian name field." id="idCustodianName"
												style="text-transform: uppercase;" 
                                                onkeyup="this.value = this.value.toUpperCase();"
												type="text" required />
												<div class="help-block with-errors"></div>
										</div>
									</div>
									<div class="profile-info-row">
										<div class="profile-info-name">Branch *</div>
										<div class="profile-info-value form-group">
											<select class="chosen-select form-control" id="idBranchName" name="branchName" required>
														<option th:each="branchNameVal : ${branchNameVal}"
																th:value="${branchNameVal.branchName}"
																th:text="${branchNameVal.branchName}"></option>
													</select>
												<div class="help-block with-errors"></div>
										</div>
									</div>
									<div class="profile-info-row">
										<div class="profile-info-name">Remarks</div>
										<div class="profile-info-value form-group">
												<textarea name="remarks" placeholder="Remarks" id="inputRemark" class="form-control"
													th:value="${custodianValue.remarks}" th:text="${custodianValue.remarks}">
												</textarea>
												<div class="help-block with-errors"></div>
										</div>
									</div>

								</div>
							</div>
							<div class="clearfix form-actions col-xs-12 col-sm-4 col-sm-offset-4">
								<a class="btn btn-sm btn-danger" th:href="@{/lockerform}">
									Cancel </a>
								<button type="submit"
									class="width-65 pull-right btn btn-sm btn-success">
									<span class="bigger-110"> Update </span> <i
										class="ace-icon fa fa-arrow-right icon-on-right"></i>
								</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
<th:block layout:fragment="scripts">
    <script>
        autosize(document.querySelectorAll('textarea'));
    </script>
    
	<script>
			if (!ace.vars['touch']) {
				$('.chosen-select').chosen({
					allow_single_deselect : true
				});
				//resize the chosen on window resize
				$(window).off('resize.chosen').on('resize.chosen', function() {
					$('.chosen-select').each(function() {
						var $this = $(this);
						$this.next().css({
							'width' : $this.parent().width()
						});
					})
				}).trigger('resize.chosen');
				//resize chosen on sidebar collapse/expand
				$(document).on('settings.ace.chosen',
						function(e, event_name, event_val) {
							if (event_name != 'sidebar_collapsed')
								return;
							$('.chosen-select').each(function() {
								var $this = $(this);
								$this.next().css({
									'width' : $this.parent().width()
								});
							})
						});
			}
	</script>
	<script th:inline="javascript">
		/*<![CDATA[*/
		var custodianType = /*[[${custodianValue.custodianType}]]*/ 'CustodianType';
		var branchVal = /*[[${custodianValue.branchName}]]*/ 'BranchName';
		/*]]>*/
		function setSelectedIndex(s, v) {
		    for ( var i = 0; i < s.options.length; i++ ) {
		        if ( s.options[i].value == v ) {
		            s.options[i].selected = true;
		            break;
		        }
		    }
		    return;
		}
		setSelectedIndex(document.getElementById('idCustodianType'),custodianType);
		setSelectedIndex(document.getElementById('idBranchName'),branchVal);
	</script>

</th:block>
</html>