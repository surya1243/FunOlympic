<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layouts/default}">

<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta charset="utf-8" />
	<title>Card Request Page</title>

	<th:block layout:fragment="styles">
		<link rel="stylesheet" href="../static/css/daterangepicker.min.css" th:href="@{/css/daterangepicker.min.css}" />

		<style>
			.autocomplete-suggestions {
				border: 1px solid #999;
				background: #FFF;
				overflow: auto;
			}

			.autocomplete-suggestion {
				padding: 2px 5px;
				white-space: nowrap;
				overflow: hidden;
				font-size: 18px
			}

			.autocomplete-selected {
				background: #F0F0F0;
			}

			.autocomplete-suggestions strong {
				font-weight: bold;
				color: #3399FF;
			}

			.autocomplete-group {
				padding: 2px 5px;
			}

			.autocomplete-group strong {
				display: block;
				border-bottom: 1px solid #000;
			}
		</style>
	</th:block>
</head>

<body>
	<div layout:fragment="content">
		<div class="page-content">
			<div class="row">
				<div class="col-xs-12">
					<!-- PAGE CONTENT BEGINS -->
					<div th:if="${message}">
						<h2 class="alert alert-danger" th:text="${message}" />
					</div>
					<div th:if="${successMessage}">
						<div class="alert alert-success">
							<button type="button" class="close" data-dismiss="alert">
								<i class="ace-icon fa fa-times"></i>
							</button>
							<strong th:text="${successMessage}">Success!</strong> <br />
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-xs-12">
					<div class="tabbable">
						<ul class="nav nav-tabs padding-12 tab-color-blue background-blue" id="myTab4">
							<li class="active"
								sec:authorize="hasAnyAuthority('ADMIN','HIGHSUPERVISOR', 'SUPERVISOR','CARDMAKER','CARDSUPERVISOR', 'CARDCUSTODIAN')">
								<a data-toggle="tab" href="#renewCardRequest" aria-expanded="true">Renew Card
									Request</a></li>

							<li class="dropdown"
								sec:authorize="hasAnyAuthority('ADMIN','HIGHSUPERVISOR', 'SUPERVISOR','CARDMAKER','CARDSUPERVISOR', 'CARDCUSTODIAN')">
								<a data-toggle="dropdown" class="dropdown-toggle" href="#">
									Renew Card Request List &nbsp; &nbsp;
									<i class="ace-icon fa fa-caret-down bigger-110 width-auto"></i>
								</a>

								<ul class="dropdown-menu dropdown-info">
									<li>
										<a data-toggle="tab" href="#dropdownInProcess">In-Process
											&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
												class="badge badge-pink idInProgress" id="idInProcessVal"></span> </a>
									</li>

									<li>
										<a data-toggle="tab" href="#dropdownActive" id="btnActiveList">Active
											&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
											<span class="badge badge-warning idActive"></span></a>
									</li>
								</ul>
							</li>

							<li class=""
								sec:authorize="hasAnyAuthority('ADMIN','HIGHSUPERVISOR', 'SUPERVISOR','CARDMAKER','CARDSUPERVISOR')">
								<a data-toggle="tab" href="#editRenewCardRequest" aria-expanded="false">Edit Card
									Request List</a></li>
						</ul>

						<div class="tab-content">
							<div id="renewCardRequest" class="tab-pane in active"
								sec:authorize="hasAnyAuthority('ADMIN','HIGHSUPERVISOR', 'SUPERVISOR','CARDMAKER','CARDSUPERVISOR', 'CARDCUSTODIAN')">
								<div class="row">
									<div class="search-filter-header bg-primary">
										<h5 class="widget-title lighter">Enter Account Number
											(20 digits)</h5>
									</div>
									<div class="widget-body">
										<div class="widget-main">
											<form method="POST" data-toggle="validator" role="form" id="myForm">
												<div class="row">
													<div class="col-xs-12 col-sm-6 col-sm-offset-3">
														<div class="input-group form-group">
															<span class="input-group-addon"> <i
																	class="ace-icon fa fa-check"></i>
															</span>
															<input type="text" class="form-control" name="accountNumber"
																id="searchAccountNumber" required
																pattern="^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9]*$"
																onblur="this.parentNode.parentNode.style.backgroundColor=/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9]*$/.test(this.value)?'inherit':'red'"
																placeholder="Enter account number (20 digits)"
																maxlength="20"
																data-error="Please fill 20 digit Account No. field.">
															<span class="input-group-btn">
																<button type="submit" class="btn btn-purple btn-sm"
																	id="idSubmitRenew">
																	<span
																		class="ace-icon fa fa-search icon-on-right bigger-110"></span>
																	Search
																</button>
															</span>

														</div>
													</div>
												</div>
											</form>
										</div>
									</div>
									<div class="col-sm-5">
										<div id="container"></div>
									</div>


									<div id="details" class="col-sm-7"></div>

									<div class="modal fade" id="myRenewModal" tabindex="-1" role="form"
										aria-labelledby="myModalLabel">
										<div class="modal-dialog modal-lg" role="document">
											<div class="modal-content">
												<div class="modal-header">
													<button type="button" class="close" data-dismiss="modal"
														aria-label="Close">
														<span aria-hidden="true">&times;</span>
													</button>
													<h2 class="modal-title blue" id="myModalLabel">Renew Card Request
														Form</h2>
												</div>
												<div class="modal-body">
													<form th:object="${cardRenew}" method="POST" autocomplete="off"
														th:action="@{/renewcardrequest}" id="form-renewCard"
														data-toggle="validator" role="form">

														<div class="hide">
															<div class="row">
																<div class="col-xs-6 col-sm-3">
																	<div class="form-group">
																		<label class="control-label block"
																			for="idAccOperation">Account
																			Operation <small class="red"> *</small>
																		</label> <input class="form-control"
																			id="idAccOperation" name="accountOperation"
																			required>
																		<div class="help-block with-errors"></div>
																	</div>
																</div>

																<div class="col-xs-6 col-sm-3">
																	<div class="form-group">
																		<label class="control-label block"
																			for="idAccountType">Account
																			Type </label> <input class="form-control"
																			id="idAccountType" name="accountType"
																			required>
																		<div class="help-block with-errors"></div>
																	</div>
																</div>
																<div class="col-xs-6 col-sm-3">
																	<div class="form-group">
																		<label class="control-label block"
																			for="idClientCode">Client
																			Code </label> <input type="text"
																			class="form-control" readonly
																			name="clientCode" id="idClientCode"
																			data-minlength="8"
																			placeholder="Client Code">
																		<div class="help-block with-errors"></div>
																	</div>
																</div>
																<div class="col-xs-6 col-sm-3">
																	<div class="form-group">
																		<label class="control-label block"
																			for="idBranchCode">Branch
																			Code </label> <input type="text"
																			class="form-control" readonly
																			name="branchCode" id="idBranchCode"
																			data-minlength="3"
																			placeholder="Branch Code">
																		<div class="help-block with-errors"></div>
																	</div>
																</div>
															</div>
															<div class="hr hr-dotted hr-4"></div>
															<div class="row">
																<div class="col-xs-6 col-sm-3">
																	<div class="form-group">
																		<label class="control-label block"
																			for="idCurrencyCode">Currency
																			<small class="red"> *</small>
																		</label> <input type="text" class="form-control"
																			name="currency" id="idCurrencyCode"
																			readonly>
																		<div class="help-block with-errors"></div>
																	</div>
																</div>
															</div>
															<div class="hr hr-dotted hr-4"></div>
															<div class="row">
																<div class="col-xs-6 col-sm-3">
																	<div class="form-group">
																		<label class="control-label block"
																			for="idFname">First
																			Name <small class="red"> *</small>
																		</label> <input type="text" class="form-control"
																			name="fName" id="idFname"
																			placeholder="Enter first name"
																			style="text-transform: uppercase;"
																			maxlength="18"
																			onkeyup="this.value = this.value.toUpperCase();"
																			data-error="Please fill first name field."
																			required />
																		<div class="help-block with-errors"></div>
																	</div>
																</div>
																<div class="col-xs-6 col-sm-3">
																	<div class="form-group">
																		<label class="control-label block"
																			for="idLname">Last
																			Name <small class="red"> *</small>
																		</label> <input type="text" class="form-control"
																			name="lName" id="idLname"
																			placeholder="Enter last name"
																			style="text-transform: uppercase;"
																			maxlength="18"
																			onkeyup="this.value = this.value.toUpperCase();"
																			data-error="Please fill last name field."
																			required />
																		<div class="help-block with-errors"></div>
																	</div>
																</div>
																<div class="col-xs-6 col-sm-3">
																	<div class="form-group">
																		<label class="control-label block">Gender
																			<small class="red"> *</small>
																		</label>
																		<div>
																			<input name="gender" id="idGender"
																				class="form-control">
																		</div>
																		<div class="help-block with-errors"></div>
																	</div>
																</div>
																<div class="col-xs-6 col-sm-3">
																	<div class="form-group">
																		<label class="control-label block">Marital
																			Status
																			<small class="red"> *</small>
																		</label>
																		<div>
																			<input name="maritalStatus"
																				id="idMaritalStatus"
																				class="form-control">
																		</div>
																		<div class="help-block with-errors"></div>
																	</div>
																</div>
															</div>
															<div class="hr hr-dotted hr-4"></div>
															<div class="row">
																<div class="col-xs-6 col-sm-3">
																	<div class="form-group">
																		<label class="control-label block"
																			for="idContactAddress">Contact Address
																			<small class="red"> *</small>
																		</label> <input type="text" class="form-control"
																			name="contactAddress" id="idContactAddress"
																			placeholder="Enter contact address"
																			style="text-transform: uppercase;"
																			onkeyup="this.value = this.value.toUpperCase();"
																			data-error="Please fill contact address."
																			required />
																		<div class="help-block with-errors"></div>
																	</div>
																</div>
																<div class="col-xs-6 col-sm-3">
																	<div class="form-group">
																		<label class="control-label block"
																			for="idEmail">Email
																		</label> <input type="email"
																			class="form-control" name="emailAddress"
																			id="idEmail"
																			data-error="Please fill valid email."
																			placeholder="Enter email address">
																		<div class="help-block with-errors"></div>
																	</div>
																</div>
																<div class="col-xs-6 col-sm-3">
																	<div class="form-group">
																		<label class="control-label block"
																			for="idMobileNumber">Mobile
																			Number <small class="red"> *</small>
																		</label> <input type="text"
																			class="form-control input-mask-mobile"
																			name="mobileNumber" id="idMobileNumber"
																			placeholder="Enter Mobile Number"
																			pattern="^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9]*$"
																			onblur="this.parentNode.parentNode.style.backgroundColor=/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9]*$/.test(this.value)?'inherit':'transparent'"
																			data-error="Please fill Mobile number field."
																			required />
																		<div class="help-block with-errors"></div>
																	</div>
																</div>
																<div class="col-xs-6 col-sm-3">
																	<div class="form-group">
																		<label class="control-label block"
																			for="idPhoneNumber">Phone
																			Number
																		</label> <input type="text" class="form-control"
																			name="phoneNumber" id="idPhoneNumber">
																		<div class="help-block with-errors"></div>
																	</div>
																</div>
															</div>
														</div>

														<div class="row">
															<div class="form-horizontal">
																<div class="col-xs-12 col-sm-12">
																	<div class="form-group">
																		<label
																			class="col-sm-4 control-label no-padding-right"
																			for="" idAccNoRenew""> Account Number<small
																				class="red"> *</small> :
																		</label>
																		<div class="col-sm-6">
																			<div class="input-group">
																				<input id="idAccNoRenew" type="text"
																					name="accountNumber" readonly
																					class="form-control" />
																			</div>
																		</div>
																		<div class="help-block with-errors"></div>
																	</div>
																	<div class="form-group">
																		<label
																			class="col-sm-4 control-label no-padding-right"
																			for="idOldCardNumber"> Old Card Number<small
																				class="red"> *</small> :
																		</label>
																		<div class="col-sm-6">
																			<div class="input-group">
																				<input id="idOldCardNumber" type="text"
																					name="oldCardNumber" readonly
																					class="form-control" /> <span
																					class="input-group-addon"> <i
																						class="fa fa-credit-card bigger-110"></i>
																				</span>
																			</div>
																		</div>
																		<div class="help-block with-errors"></div>
																	</div>
																	<div class="form-group">
																		<label
																			class="col-sm-4 control-label no-padding-right"
																			for="idReceivedDate"> Customer's App
																			Date<small class="red"> *</small> :
																		</label>
																		<div class="col-sm-6">
																			<div class="input-group">
																				<input id="idCustomerAppDate"
																					type="text" name="customerAppDate"
																					data-date-format="YYYY-MM-DD"
																					placeholder="Select date..."
																					class="form-control date-pickerForm"
																					data-error="Please select Date." />
																				<span class="input-group-addon"> <i
																						class="fa fa-clock-o bigger-110"></i>
																				</span>
																			</div>
																		</div>
																		<div class="help-block with-errors"></div>
																	</div>
																	<div class="form-group">
																		<label
																			class="col-sm-4 control-label no-padding-right"
																			for="idRenewRequestDate"> Renew Request
																			Date<small class="red"> *</small> :
																		</label>
																		<div class="col-sm-6">
																			<div class="input-group">
																				<input id="idRenewRequestDate"
																					type="text" name="renewRequestDate"
																					data-date-format="YYYY-MM-DD"
																					class="form-control date-pickerForm" />
																				<span class="input-group-addon"> <i
																						class="fa fa-clock-o bigger-110"></i>
																				</span>
																			</div>
																		</div>
																		<div class="help-block with-errors"></div>
																	</div>
																	<div class="form-group">
																		<label
																			class="col-sm-4 control-label no-padding-right"
																			for="idBranchName"> Card Req. Originating
																			Branch<small class="red"> *</small> :
																		</label>
																		<div class="col-sm-6">
																			<select class="form-control select2"
																				id="idBranchName"
																				name="cardReqOriginatingBranch"
																				data-placeholder="Choose Branch..."
																				data-error="Please select Branch field."
																				required>
																				<option value=""></option>
																				<option
																					th:each="branches : ${branchLists}"
																					th:value="${branches.branchName}"
																					th:text="${branches.branchName}"
																					th:selected="${branches.branchName == currentUser.branchName}">
																				</option>
																			</select>
																		</div>
																		<div class="help-block with-errors"></div>
																	</div>
																	<div class="form-group">
																		<label
																			class="col-sm-4 control-label no-padding-right"
																			for="idRequestRemark"> Request Remarks
																			<small class="red"> *</small> :
																		</label>
																		<div class="col-sm-6">
																			<select class="select2 form-control"
																				name="requestRemark"
																				id="idRequestRemark"
																				data-placeholder="Choose renew card remarks..."
																				data-error="Please select renew card remarks field.">
																				<option value="New (Lost)"
																					selected="selected">New (Lost)
																				</option>
																				<option value="New (Damage)">New
																					(Damage)</option>
																				<option value="Expire">Expire</option>
																				<option value="Expire/Expire-PIN">
																					Expire/Expire-PIN</option>
																			</select>
																			<div class="help-block with-errors"></div>
																		</div>
																	</div>
																	<div class="form-group">
																		<label
																			class="col-sm-4 control-label no-padding-right"
																			for="idCardStatus"> Card Status <small
																				class="red"> *</small> :
																		</label>
																		<div class="col-sm-6">
																			<select class="form-control select2"
																				name="cardStatus" id="idCardStatus"
																				data-placeholder="Choose card status..."
																				data-error="Please select card status field.">
																				<option value="In-process(step 1)"
																					selected="selected">In-process(step
																					1)</option>
																			</select>
																			<div class="help-block with-errors"></div>
																		</div>
																	</div>
																	<div class="form-group">
																		<label
																			class="col-sm-4 control-label no-padding-right"
																			for="idStatusUpdatedDate"> Status Updated
																			Date <small class="red"> *</small> :
																		</label>
																		<div class="col-sm-6">
																			<div class="input-group">
																				<input id="idStatusUpdatedDate"
																					type="text" name="statusUpdatedDate"
																					data-date-format="YYYY-MM-DD"
																					placeholder="Select date..."
																					class="form-control date-pickerForm"
																					data-error="Please select Date." />
																				<span class="input-group-addon"> <i
																						class="fa fa-clock-o bigger-110"></i>
																				</span>
																			</div>
																		</div>
																		<div class="help-block with-errors"></div>
																	</div>


																	<div class="form-group">
																		<label
																			class="col-sm-4 control-label no-padding-right"
																			for="idRenewRemarks"> Renew Remarks <small
																				class="red"> *</small> :
																		</label>
																		<div class="col-sm-6">
																			<textarea name="renewRemarks"
																				placeholder="Write the descriptions here..."
																				class="form-control limited"
																				maxlength="1200" id="idRenewRemarks"
																				rows="3" required
																				data-error="Please fill the remarks"></textarea>
																			<div class="help-block with-errors"></div>
																		</div>
																	</div>
																	<div class="form-group">
																		<label
																			class="col-sm-4 control-label no-padding-right"
																			for="idLodgedBy"> Lodged By <small
																				class="red"> *</small> :
																		</label>
																		<div class="col-sm-6">
																			<div class="input-group">
																				<input id="idLodgedBy" type="text"
																					name="lodgedBy" class="form-control"
																					th:value="${currentUser.email}"
																					readonly />
																			</div>
																		</div>
																		<div class="help-block with-errors"></div>
																	</div>
																</div>


															</div>
														</div>
													</form>
												</div>
												<div class="modal-footer">
													<button class="btn btn-sm" data-dismiss="modal">
														<i class="ace-icon fa fa-times"></i> Cancel
													</button>
													<button class="btn btn-sm btn-primary" type="submit"
														form="form-renewCard" id="btnSubmit">
														<i class="ace-icon fa fa-check"></i> Save
													</button>

												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div id="dropdownInProcess" class="tab-pane fade"
								sec:authorize="hasAnyAuthority('ADMIN','HIGHSUPERVISOR', 'SUPERVISOR','CARDMAKER','CARDSUPERVISOR', 'CARDCUSTODIAN')">
								<div class="row">
									<div class="col-xs-12 col-sm-12">
										<div class="search-area well well-sm">
											<div class="search-filter-header bg-primary">
												<h5 class="smaller no-margin-bottom">
													<i class="ace-icon fa fa-sliders light-green bigger-130"></i>&nbsp;
													Refine your Search
												</h5>
											</div>
											<div class="space-10"></div>
											<fieldset class="form-inline">
												<div class="input-group col-sm-2">

													<select class="form-control select2" id="branchNameInProcess"
														name="cardReqOriginatingBranch"
														data-placeholder="Choose Branch..." required>
														<option value=""></option>
														<option th:each="branchList : ${branchLists}"
															th:value="${branchList.branchName}"
															th:text="${branchList.branchName}">Branch</option>
													</select>
												</div>
												<div class="input-group col-sm-2">
													<select class="select2 form-control" id="idCardStatusVal"
														name="cardStatus" data-placeholder="Choose a Card Status..."
														data-error="Please select Card Status field." required>
														<option value=""></option>
														<option value="In-process(step 1)">In-process(step 1)</option>
														<option value="In-process(step 2)">In-process(step 2)</option>
													</select>
												</div>
												<div class="inline pull-right">
													<label for="idDateRange"> Request Date Range Picker: </label>
													<div class="input-group">
														<span class="input-group-addon"><i
																class="fa fa-calendar bigger-110"></i></span>
														<input class="form-control" type="text" name="date-range-picker"
															data-date-format="yyyy-mm-dd" id="idRequestDateRange" />
													</div>
												</div>
											</fieldset>
											<div class="space-4"></div>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-xs-12">
										<!-- PAGE CONTENT BEGINS -->

										<div class="table-responsive">
											<div class="table-header">Renew Card Request List - (In-Process)
											</div>
											<table width="100%" id="dynamic-table" aria-hidden="true"
												class="table table-striped table-bordered table-hover display nowrap">
												<thead>
													<tr>
														<th width="4%" class="detail-col"></th>
														<th width="12%" data-class='hidden'>Customer's App Date</th>
														<th width="10%">Card Req. Originating Branch</th>
														<th width="8%">Request Date</th>
														<th width="10%">Account Operation</th>
														<th width="10%">Account Type</th>
														<th width="10%" data-class='hidden'>Account Number</th>
														<th width="8%">Client Code</th>
														<th width="10%" data-class='hidden'>Branch Code</th>
														<th width="10%" data-class='hidden'>Currency</th>
														<th width="10%">First Name</th>
														<th width="10%">Last Name</th>
														<th width="7%">Gender</th>
														<th width="6%">Marital Status</th>
														<th width="10%" data-class='hidden'>Contact Address</th>
														<th width="10%">Mobile Number</th>
														<th width="10%" data-class='hidden'>Email</th>
														<th width="10%">Card Status</th>
														<th width="10%" data-class='hidden'>Status Updated Date</th>
														<th width="10%">Request Remarks</th>
														<th width="10%" data-class='hidden'>Other Remarks</th>
														<th width="18%" class="center">Action</th>
													</tr>
												</thead>
											</table>
										</div>
										<!-- PAGE CONTENT ENDS -->
									</div>
								</div>
							</div>
							<div id="dropdownActive" class="tab-pane fade"
								sec:authorize="hasAnyAuthority('ADMIN','HIGHSUPERVISOR', 'SUPERVISOR','CARDMAKER','CARDSUPERVISOR', 'CARDCUSTODIAN')">
								<div class="row">
									<div class="col-xs-12 col-sm-12">
										<div class="search-area well well-sm">
											<div class="search-filter-header bg-primary">
												<h5 class="smaller no-margin-bottom">
													<i class="ace-icon fa fa-sliders light-green bigger-130"></i>&nbsp;
													Refine your Search
												</h5>
											</div>
											<div class="space-10"></div>
											<fieldset class="form-inline">
												<div class="input-group col-sm-2">
													<select class="form-control select2" id="idBranchName2"
														name="cardReqOriginatingBranch"
														data-placeholder="Choose Branch..." required>
														<option value=""></option>
														<option th:each="branchList : ${branchLists}"
															th:value="${branchList.branchName}"
															th:text="${branchList.branchName}">Branch</option>
													</select>

												</div>&nbsp;&nbsp;
												<div class="inline">
													<label for="idRequestDateRange2"> Request Date Range Picker:
													</label>
													<div class="input-group">
														<span class="input-group-addon"><i
																class="fa fa-calendar bigger-110"></i></span>
														<input class="form-control" type="text" name="date-range-picker"
															data-date-format="yyyy-mm-dd" id="idRequestDateRange2" />
													</div>
												</div>
											</fieldset>
											<div class="space-4"></div>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-xs-12">
										<!-- PAGE CONTENT BEGINS -->

										<div class="table-responsive">
											<div class="table-header">Renew Card Request List - (Active)
											</div>
											<table width="100%" id="dynamicActive-table" aria-hidden="true"
												class="table table-striped table-bordered table-hover display nowrap">
												<thead>
													<tr>
														<th width="4%" class="detail-col"></th>
														<th width="12%" data-class='hidden'>Customer's App Date</th>
														<th width="10%">Card Req. Originating Branch</th>
														<th width="8%">Request Date</th>
														<th width="10%">Account Operation</th>
														<th width="10%">Account Type</th>
														<th width="10%" data-class='hidden'>Account Number</th>
														<th width="8%">Client Code</th>
														<th width="10%" data-class='hidden'>Branch Code</th>
														<th width="10%" data-class='hidden'>Currency</th>
														<th width="10%">First Name</th>
														<th width="10%">Last Name</th>
														<th width="7%">Gender</th>
														<th width="6%">Marital Status</th>
														<th width="10%" data-class='hidden'>Contact Address</th>
														<th width="10%">Mobile Number</th>
														<th width="10%" data-class='hidden'>Email</th>
														<th width="10%">Card Status</th>
														<th width="10%" data-class='hidden'>Status Updated Date</th>
														<th width="10%">Request Remarks</th>
														<th width="10%" data-class='hidden'>Other Remarks</th>
														<th width="10%">Expiry Date</th>
														<th width="18%" class="center">Action</th>
													</tr>
												</thead>
											</table>
										</div>
										<!-- PAGE CONTENT ENDS -->
									</div>
									<!-- /.col -->
								</div>
							</div>

							<div id="editRenewCardRequest" class="tab-pane"
								sec:authorize="hasAnyAuthority('ADMIN','HIGHSUPERVISOR', 'SUPERVISOR','CARDMAKER','CARDSUPERVISOR')">
								<div class="row">
									<div class="col-xs-12 col-sm-12">
										<div class="search-area well well-sm">
											<div class="search-filter-header bg-primary">
												<h5 class="smaller no-margin-bottom">
													<i class="ace-icon fa fa-sliders light-green bigger-130"></i>&nbsp;
													Refine your Search
												</h5>
											</div>
											<div class="space-10"></div>
											<fieldset class="form-inline">
												<div class="input-group col-sm-2">
													<select class="form-control select2" id="idBranchNameEdit"
														name="cardReqOriginatingBranch"
														data-placeholder="Choose Branch..." required>
														<option value=""></option>
														<option th:each="branchList : ${branchLists}"
															th:value="${branchList.branchName}"
															th:text="${branchList.branchName}">Branch</option>
													</select>
												</div>
												<div class="input-group col-sm-2">
													<select class="select2 form-control" id="idCardStatusValEdit"
														name="cardStatus" data-placeholder="Choose a Card Status..."
														data-error="Please select Card Status field." required>
														<option value=""></option>
														<option value="In-process(step 1)">In-process(step 1)</option>
														<option value="In-process(step 2)">In-process(step 2)</option>
														<option value="Active">Active</option>
													</select>
												</div>
												<div class="inline pull-right">
													<label for="idDateRange"> Request Date Range Picker: </label>
													<div class="input-group">
														<span class="input-group-addon"><i
																class="fa fa-calendar bigger-110"></i></span>
														<input class="form-control" type="text" name="date-range-picker"
															data-date-format="yyyy-mm-dd" id="dateRangeEdit" />
													</div>
												</div>
											</fieldset>
											<div class="space-4"></div>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-xs-12">
										<div class="table-responsive">
											<div class="table-header">Renew Card Request List
											</div>
											<table width="100%" id="dynamicEdit-table" aria-hidden="true"
												class="table table-striped table-bordered table-hover">
												<thead>
													<tr>
														<th width="4%" class="detail-col"></th>
														<th width="12%" data-class='hidden'>Customer's App Date</th>
														<th width="10%">Card Req. Originating Branch</th>
														<th width="8%">Request Date</th>
														<th width="10%">Account Operation</th>
														<th width="10%">Account Type</th>
														<th width="10%" data-class='hidden'>Account Number</th>
														<th width="8%">Client Code</th>
														<th width="10%" data-class='hidden'>Branch Code</th>
														<th width="10%" data-class='hidden'>Currency</th>
														<th width="10%">First Name</th>
														<th width="10%">Last Name</th>
														<th width="7%">Gender</th>
														<th width="6%">Marital Status</th>
														<th width="10%" data-class='hidden'>Contact Address</th>
														<th width="10%">Mobile Number</th>
														<th width="10%" data-class='hidden'>Email</th>
														<th width="10%">Card Status</th>
														<th width="10%" data-class='hidden'>Status Updated Date</th>
														<th width="10%">Request Remarks</th>
														<th width="9%" data-class='hidden'>Other Remarks</th>
														<th width="4%" class="center"
															sec:authorize="hasAnyAuthority('ADMIN','HIGHSUPERVISOR', 'SUPERVISOR','CARDMAKER','CARDSUPERVISOR')">
															Edit</th>
														<th width="4%" class="center"
															sec:authorize="hasAnyAuthority('ADMIN','HIGHSUPERVISOR','CARDSUPERVISOR')">
															Delete</th>
													</tr>
												</thead>
											</table>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- basic scripts -->
	<th:block layout:fragment="scripts">
		<script src="../static/js/jquery.autocomplete.min.js" th:src="@{/js/jquery.autocomplete.min.js/}"></script>

		<script>

			$(document).ready(function () {

				$('#searchAccountNumber').autocomplete({
					serviceUrl: '/getTags',
					paramName: "accountNumber",
					delimiter: ",",
					transformResult: function (response) {
						return {

							suggestions: $.map($.parseJSON(response), function (item) {

								return {value: item.accountNumber, data: item.accountNumber};
							})
						};
					}
				});
			});
		</script>
		<script>
			$(function () {
				var start = moment().subtract(29, 'days');
				var end = moment();

				$('#idRequestDateRange2').daterangepicker({
					startDate: start,
					endDate: end,
					opens: 'left',
					autoclose: true,
					todayHighlight: true,
					ranges: {
						'Today': [moment(), moment()],
						'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
						'Last 7 Days': [moment().subtract(6, 'days'), moment()],
						'Last 30 Days': [moment().subtract(29, 'days'), moment()],
						'This Month': [moment().startOf('month'), moment().endOf('month')],
						'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
					},
					locale: {
						format: 'YYYY-MM-DD'
					}
				}, function (start, end, label) {
					if (!$('#idBranchName2').val()) {
						ajaxGetCardRenewByDateBetweenActive(start, end);

					} else {
						ajaxGetCardRenewByDateBetweenActiveBranch(start, end);
					}
				});

			});
		</script>
		<script>
			$(function () {
				var start = moment().subtract(29, 'days');
				var end = moment();

				$('#idRequestDateRange').daterangepicker({
					startDate: start,
					endDate: end,
					opens: 'left',
					autoclose: true,
					todayHighlight: true,
					ranges: {
						'Today': [moment(), moment()],
						'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
						'Last 7 Days': [moment().subtract(6, 'days'), moment()],
						'Last 30 Days': [moment().subtract(29, 'days'), moment()],
						'This Month': [moment().startOf('month'), moment().endOf('month')],
						'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
					},
					locale: {
						format: 'YYYY-MM-DD'
					}
				}, function (start, end, label) {
					ajaxGetCardRenewByDateBetween(start, end);
				});

			});
		</script>
		<script>
			$(function () {
				var start = moment().subtract(29, 'days');
				var end = moment();

				$('#dateRange').daterangepicker({
					startDate: start,
					endDate: end,
					opens: 'left',
					autoclose: true,
					todayHighlight: true,
					ranges: {
						'Today': [moment(), moment()],
						'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
						'Last 7 Days': [moment().subtract(6, 'days'), moment()],
						'Last 30 Days': [moment().subtract(29, 'days'), moment()],
						'This Month': [moment().startOf('month'), moment().endOf('month')],
						'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
					},
					locale: {
						format: 'YYYY-MM-DD'
					}
				}, function (start, end, label) {
					ajaxGetCardRenewByDateBetween(start, end);
				});

			});
			$(function () {
				var start = moment().subtract(29, 'days');
				var end = moment();

				$('#dateRangeEdit').daterangepicker({
					startDate: start,
					endDate: end,
					opens: 'left',
					autoclose: true,
					todayHighlight: true,
					ranges: {
						'Today': [moment(), moment()],
						'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
						'Last 7 Days': [moment().subtract(6, 'days'), moment()],
						'Last 30 Days': [moment().subtract(29, 'days'), moment()],
						'This Month': [moment().startOf('month'), moment().endOf('month')],
						'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
					},
					locale: {
						format: 'YYYY-MM-DD'
					}
				}, function (start, end, label) {
					ajaxEditCardRenewByDateBetweenActive(start, end);
				});

			});
		</script>


		<script>
			$(document).ready(function () {
				$('.select2').css('width', '100%').select2({
				});

				$('#idRenewRemark').chosen({
					width: "100%"
				});

				$("#idAccountNumber").focusout(function () {
					var myStr = $("#idAccountNumber").val();
					var trimmedSpace = $.trim(myStr).replace(/ /g, "").length;

					if (trimmedSpace === 20) {
						$("#idBranchCode").val(myStr.slice(0, 3));
						$("#idClientCode").val(myStr.slice(6, 14));
					}
				});

			});
		</script>
		<script>
			$('.input-mask-branchCode').mask('999', {
				autoclear: false
			});
			$('.input-mask-mobile').mask('9999999999', {
				autoclear: false
			});
			$('.input-mask-clientCode').mask('99999999', {
				autoclear: false
			});
			$('.input-mask-accountNo').mask('99999999999999999999', {
				autoclear: false
			});
		</script>
		<script type='text/javascript'>
			$(function () {
				$(".date-pickerForm").datepicker({
					format: "yyyy-mm-dd",
					autoclose: true,
					todayBtn: "linked",
					todayHighlight: true
				}).datepicker('update', new Date());
			});
		</script>
		<script>
			autosize($('textarea[class*=autosize]'));

			$('textarea.limited').inputlimiter({
				remText: '%n character%s remaining...',
				limitText: 'max allowed : %n.'
			});
		</script>

		<!-- Renew page js -->
		<script>
			$(document).ready(function () {
				$("#idSubmitRenew").click(function (e) {
					e.preventDefault();
					ajaxgetCardRequestByAccNo();
				});
			});


			function ajaxgetCardRequestByAccNo() {
				let accountNoVal = $('#searchAccountNumber').val();
				const url = '/getcardusers/' + accountNoVal;
				$.getJSON(url, function (data) {
					if (data) {
						createDetailDataTable(data);

						$("#idAccOperation").val(data.accountOperation);
						$("#idAccountType").val(data.accountType);
						$("#idClientCode").val(data.clientCode);
						$("#idBranchCode").val(data.branchCode);
						$("#idCurrencyCode").val(data.currency);
						$("#idFname").val(data.fName);
						$("#idLname").val(data.lName);
						$("#idGender").val(data.gender);
						$("#idMaritalStatus").val(data.maritalStatus);
						$("#idContactAddress").val(data.contactAddress);
						$("#idEmail").val(data.emailAddress);
						$("#idMobileNumber").val(data.mobileNumber);
						$("#idPhoneNumber").val(data.phoneNumber);

						$("#idAccNoRenew").val(data.accountNumber);
						$("#idOldCardNumber").val(data.cardNumber);

					}
					else {
						$('#details').html("<strong class='row' style='color: #d50c56'>* Sorry, no Customer found for given Account Number.</strong>");
					}
				});
			}

			function createDetailDataTable(data) {
				$('#details').html(format(data))
			};


			function format(d) {
				// `d` is the original data object for the row
				return "<div><a data-toggle='modal' data-target='#myRenewModal' class='btn btn-md btn-pink no-border btn-round pull-right' id='btnmodal'><i class='ace-icon fa fa-check icon-animated-bell bigger-125'></i>Make Renew Card Request<i class='ace-icon fa fa-arrow-right icon-on-right icon-animated-vertical'></i></a></div><br><div class='table-header'>Customer's Details</div><table class='table table-striped table-bordered table-hover'>" +
					'<tr>' +
					'<td width="35%"><strong>Customers App Date: </strong></td>' +
					'<td>' + moment(new Date(d.customerAppDate)).format("YYYY-MM-DD") + '</td>' +
					'</tr>' +
					'<tr>' +
					'<td width="15%"><strong>Request Date: </strong></td>' +
					'<td>' + moment(new Date(d.requestDate)).format("YYYY-MM-DD") + '</td>' +
					'</tr>' +
					'<tr>' +
					'<td width="15%"><strong>Account Number: </strong></td>' +
					'<td>' + d.accountNumber + '</td>' +
					'</tr>' +
					'<tr>' +
					'<td width="15%"><strong>Client Code: </strong></td>' +
					'<td>' + d.clientCode + '</td>' +
					'</tr>' +
					'<tr>' +
					'<td width="15%"><strong>Branch Code: </strong></td>' +
					'<td>' + d.branchCode + '</td>' +
					'</tr>' +
					'<tr>' +
					'<td width="15%"><strong>Currency: </strong></td>' +
					'<td>' + d.currency + '</td>' +
					'</tr>' +
					'<tr>' +
					'<td width="15%"><strong>Account Operation: </strong></td>' +
					'<td>' + d.accountOperation + '</td>' +
					'</tr>' +
					'<tr>' +
					'<td width="15%"><strong>Account Type: </strong></td>' +
					'<td>' + d.accountType + '</td>' +
					'</tr>' +
					'<tr>' +
					'<td width="15%"><strong>Full Name: </strong></td>' +
					'<td>' + d.fName + ' ' + d.lName + '</td>' +
					'</tr>' +
					'<tr>' +
					'<td width="15%"><strong>Gender: </strong></td>' +
					'<td>' + d.gender + '</td>' +
					'</tr>' +
					'<tr>' +
					'<td width="15%"><strong>Marital Status: </strong></td>' +
					'<td>' + d.maritalStatus + '</td>' +
					'</tr>' +
					'<tr>' +
					'<td width="15%"><strong>Contact Address : </strong></td>' +
					'<td>' + d.contactAddress + '</td>' +
					'</tr></div>' +
					'<tr>' +
					'<td width="15%"><strong>Email: </strong></td>' +
					'<td>' + d.emailAddress + '</td>' +
					'</tr>' +
					'<tr>' +
					'<td width="15%"><strong>Mobile Number: </strong></td>' +
					'<td><i class="fa fa-mobile light-red bigger-110"> </i> ' + d.mobileNumber + '</td>' +
					'</tr>' +
					'<tr>' +
					'<td width="15%"><strong>Telephone Number: </strong></td>' +
					'<td><i class="fa fa-phone light-orange bigger-110"> </i> ' + d.phoneNumber + '</td>' +
					'</tr>' +
					'<tr>' +
					'<td width="15%"><strong>Card Req. Originating Branch: </strong></td>' +
					'<td>' + d.cardReqOriginatingBranch + '</td>' +
					'</tr>' +
					'<tr>' +
					'<td width="15%"><strong>Card Status: </strong></td>' +
					'<td>' + d.cardStatus + '</td>' +
					'</tr>' +
					'<tr>' +
					'<td width="15%"><strong>Status Updated Date: </strong></td>' +
					'<td>' + moment(new Date(d.statusUpdatedDate)).format("YYYY-MM-DD") + '</td>' +
					'</tr>' +
					'<tr>' +
					'<td width="15%"><strong>Card Remarks: </strong></td>' +
					'<td>' + d.requestRemark + '</td>' +
					'</tr>' +
					'<tr>' +
					'<td width="15%"><strong>Other Remarks: </strong></td>' +
					'<td>' + d.otherRemarks + '</td>' +
					'</tr>' +

					'</table>';
			}
		</script>
		<script>
			$('.modal-dialog').draggable({
				"handle": ".modal-header"
			});
		</script>
		<script th:inline="javascript">
			/*<![CDATA[*/
			var countVal = /*[[${count}]]*/ 'Count';
			/*]]>*/
			$(window).load(function () {
				$("#container").html('<div class="blue bigger-150">Loading  <i class="ace-icon fa fa-spinner fa-spin blue bigger-150"></i>  </div>')
				var container = $("#container");

				$.ajax({
					url: '/renewcount/cardStatus',
					type: "GET",
					dataType: 'json',
					contentType: 'application/json',
					success: function (response) {
						var processed_json = new Array();
						for (var key in response) {
							if (response.hasOwnProperty(key)) {
								processed_json.push([key, response[key]])
							}
						}
						if (response) {
							for (var key in response) {
								var inProcess = countVal - response.Active;
								$(".idActive").html(response.Active);
								$("#idInProcessVal").html(inProcess);
							}

						}
						if (response) {
							Highcharts.setOptions({
								colors: ['#50B432', '#ED561B', '#058DC7', '#DDDF00', '#24CBE5', '#64E572', '#FF9655', '#FFF263', '#6AF9C4']
							});
							Highcharts.chart('container', {
								chart: {
									type: 'pie',
									options3d: {
										enabled: true,
										alpha: 45,
										beta: 0
									}
								},
								title: {
									text: 'Card Status'
								},
								legend: {
									labelFormat: '{name}: <span style="opacity: 0.9">{y}</span>'
								},
								credits: {
									enabled: false
								},
								tooltip: {
									pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
								},
								plotOptions: {
									pie: {
										allowPointSelect: true,
										cursor: 'pointer',
										depth: 35,
										dataLabels: {
											enabled: true,
											format: '{point.name}'
										}
									}
								},
								series: [{
									type: 'pie',
									name: 'Card Status',
									data: processed_json,
									showInLegend: true
								}]
							});
						} else {
							$("#container").html("<strong>Oops, an error occured fetching the data.</strong>");
						}
					}
				});
			});
		</script>
		<script>

			$(document).ready(function () {
				ajaxGetAllRenewCard();
			});

			$("#branchNameInProcess").change(function () {
				ajaxgetCardRenewByBranchName();
			});

			$("#idCardStatusVal").change(function () {
				ajaxgetCardRenewByCardStatus();
			});

			$("#branchNameInProcess").change(function () {
				if (!$('#idCardStatusVal').val()) {
					ajaxgetCardRenewByBranchName();
				} else {
					ajaxgetCardRenewByBranchAndCardStatus();
				}
			});
			$("#idCardStatusVal").change(function () {
				if (!$('#branchNameInProcess').val()) {
					ajaxgetCardRenewByCardStatus();
				} else {
					ajaxgetCardRenewByBranchAndCardStatus();
				}
			});

			/* Active card List */
			$("#idBranchName2").change(function () {
				ajaxGetActiveRenewCardBranch();
			});

			/* edit list filter */
			$("#idBranchNameEdit").change(function () {
				if (!$('#idCardStatusValEdit').val()) {
					ajaxEditCardRenewByBranchName();
				} else {
					ajaxEditCardRenewByCardStatusBranch();
				}
			});

			$("#idCardStatusValEdit").change(function () {
				if (!$('#idBranchNameEdit').val()) {
					ajaxEditCardRenewByCardStatus();
				} else {
					ajaxEditCardRenewByCardStatusBranch();
				}
			});

			function ajaxEditCardRenewByBranchName() {
				let branchName = $('#idBranchNameEdit').val();
				const url = '/editcardrenew/' + branchName;
				$.getJSON(url, function (data) {
					createEditDataTableRenew(data);
				});
			}

			function ajaxEditCardRenewByCardStatus() {
				let cardStatus = $('#idCardStatusValEdit').val();
				const url = '/editcardrenew/status/' + cardStatus;
				$.getJSON(url, function (data) {
					createEditDataTableRenew(data);
				});
			}

			function ajaxEditCardRenewByCardStatusBranch() {
				let branchName = $('#idBranchNameEdit').val();
				let cardStatus = $('#idCardStatusValEdit').val();
				const url = '/editcardrenew/status/' + branchName + '/' + cardStatus;
				$.getJSON(url, function (data) {
					createEditDataTableRenew(data);
				});
			}
			function ajaxEditCardRenewByDateBetweenActive(start, end) {
				let startDate = start.format('YYYY-MM-DD');
				let endDate = end.format('YYYY-MM-DD');
				const url = '/geteditcardrenew/' + startDate + '/' + endDate;
				$.getJSON(url, function (data) {
					createEditDataTableRenew(data);
				});
			}


			$("#btnActiveList").on('click', function () {
				ajaxGetActiveRenewCard();
			});


			function ajaxGetAllRenewCard() {
				const url = '/getstatuscardrenew';
				$.getJSON(url, function (data) {
					createDataTable(data);
				});
			}
			function ajaxGetActiveRenewCard() {
				const url = '/getactivecardrenew';
				$.getJSON(url, function (data) {
					createActiveDataTableRenew(data);
				});
			}

			function ajaxGetActiveRenewCardBranch() {
				let branchName = $('#idBranchName2').val();
				const url = '/getactivecardrenewbranch/' + branchName;
				$.getJSON(url, function (data) {
					createActiveDataTableRenew(data);
				});
			}

			function ajaxGetCardRenewByDateBetweenActive(start, end) {
				let startDate = start.format('YYYY-MM-DD');
				let endDate = end.format('YYYY-MM-DD');
				const url = '/getactivecardrenew/' + startDate + '/' + endDate;
				$.getJSON(url, function (data) {
					createActiveDataTableRenew(data);
				});
			}
			function ajaxGetCardRenewByDateBetweenActiveBranch(start, end) {
				let cardReqOriginatingBranch = $('#idBranchName2').val();
				let startDate = start.format('YYYY-MM-DD');
				let endDate = end.format('YYYY-MM-DD');
				const url = '/getactivecardrenew/date/' + startDate + '/' + endDate + '/' + cardReqOriginatingBranch;
				$.getJSON(url, function (data) {
					createActiveDataTableRenew(data);
				});
			}

			function ajaxgetCardRenewByBranchName() {
				let branchName = $('#branchNameInProcess').val();
				const url = '/getcardrenew/branchname/' + branchName;
				$.getJSON(url, function (data) {
					createDataTable(data);
				});
			}

			function ajaxgetCardRenewByCardStatus() {
				let cardStatus = $('#idCardStatusVal').val();
				const url = '/getcardrenew/cardstatus/' + cardStatus;
				$.getJSON(url, function (data) {
					createDataTable(data);
				});
			}

			function ajaxgetCardRenewByBranchAndCardStatus() {
				let branchNameValue = $('#branchNameInProcess').val();
				let cardStatusValue = $('#idCardStatusVal').val();
				const url = '/getcardrenew/group/' + branchNameValue + '/' + cardStatusValue;
				$.getJSON(url, function (data) {
					createDataTable(data);
				});
			}

			function ajaxGetCardRenewByDateBetween(start, end) {
				let startDate = start.format('YYYY-MM-DD');
				let endDate = end.format('YYYY-MM-DD');
				const url = '/getcardrenew/' + startDate + '/' + endDate;
				$.getJSON(url, function (data) {
					createDataTable(data);
				});
			}

			function createDataTable(data) {
				var table = $('#dynamic-table').DataTable({
					"order": [3, "desc"],
					destroy: true,
					responsive: true,
					"data": data,
					select: "single",
					"columns": [
						{
							"className": 'details-control',
							"orderable": false,
							"data": null,
							"defaultContent": '',
							"render": function () {
								return '<i class="ace-icon fa fa-angle-double-down fa-2x" title="Show details" aria-hidden="true"></i>';
							}
						},
						{
							"data": "customerAppDate",
							"render": function (data, type, row, meta) {
								if (data === null) return "";
								var thisDate = moment(new Date(data)).format("YYYY-MM-DD");
								return thisDate
							}
						},
						{"data": "cardReqOriginatingBranch"},
						{
							"data": "renewRequestDate",
							"render": function (data, type, row, meta) {
								if (data === null) return "";
								var thisDate = moment(new Date(data)).format("YYYY-MM-DD");
								return thisDate
							}
						},
						{"data": "accountOperation"},
						{
							"data": "accountType"
						},
						{"data": "accountNumber"},
						{
							"data": "clientCode",
							"render": function (data, type, row, meta) { // render event defines the markup of the cell text 
								var a = '<a href="/renewcardrequest/detailpage/' + row["id"] + '" title="Click for more details">' + row.clientCode + '</a>';
								return a;
							}
						},
						{"data": "branchCode"},
						{"data": "currency"},
						{"data": "fName"},
						{"data": "lName"},
						{
							"data": "gender"
						},
						{
							"data": "maritalStatus"
						},
						{"data": "contactAddress"},
						{"data": "mobileNumber"},
						{"data": "emailAddress"},
						{"data": "cardStatus"},
						{"data": "statusUpdatedDate"},
						{"data": "requestRemark"},
						{"data": "renewRemarks"},
						{
							"data": null,
							"orderable": false,
							"render": function (data, type, row, meta) { // render event defines the markup of the cell text 
								var a = '<div class="btn-group"><a class="btn btn-xs no-border btn-round btn-success" title="Click to view details." href="/renewcardrequest/detailpage/' + row["id"] + '">Next &nbsp;<i class="ace-icon fa fa-arrow-circle-right icon-on-right" aria-hidden="true"></i></a></div>';
								return a;
							}
						}
					],
					dom: 'Blfrtip',
					buttons: [
						{
							"extend": "copy",
							"text": "<i class='fa fa-copy bigger-110 pink'></i> <span class='hidden'>Copy to clipboard</span>",
							"className": "btn btn-white btn-primary btn-bold"
						},
						{
							"extend": "csv",
							"text": "<i class='fa fa-file-excel-o bigger-110 blue'></i> <span class='hidden'>Export to CSV</span>",
							"className": "btn btn-white btn-primary btn-bold"
						},
						{
							"extend": "excel",
							"text": "<i class='fa fa-file-excel-o bigger-110 green'></i> <span class='hidden'>Export to Excel</span>",
							"className": "btn btn-white btn-primary btn-bold",
							"exportOptions": {modifier: {page: 'all'}}
						},
						{
							"extend": "pdf",
							"text": "<i class='fa fa-file-pdf-o bigger-110 red'></i> <span class='hidden'>Export to PDF</span>",
							"className": "btn btn-white btn-primary btn-bold",
							"exportOptions": {modifier: {page: 'all'}}
						},
						{
							"extend": "print",
							"text": "<i class='fa fa-print bigger-110 grey'></i> <span class='hidden'>Print</span>",
							"className": "btn btn-white btn-primary btn-bold",
							autoPrint: false,
							orientation: 'landscape',
							title: 'Renew Card Request List - (In Process)'
						}
					]

				});

				// Add event listener for opening and closing details
				$('#dynamic-table tbody').on('click', 'td.details-control', function () {
					var tr = $(this).closest('tr');
					var tdi = tr.find("i.fa");
					var row = table.row(tr);

					if (row.child.isShown()) {
						// This row is already open - close it
						row.child.hide();
						tr.removeClass('shown');
						tdi.first().removeClass('fa fa-angle-double-up fa-2x');
						tdi.first().addClass('fa fa-angle-double-down fa-2x');
					}
					else {
						// Open this row
						row.child(format(row.data())).show();
						tr.addClass('shown');
						tdi.first().removeClass('fa fa-angle-double-down fa-2x');
						tdi.first().addClass('fa fa-angle-double-up fa-2x');
					}
				});

				table.on("user-select", function (e, dt, type, cell, originalEvent) {
					if ($(cell.node()).hasClass("details-control")) {
						e.preventDefault();
					}
				});

				function format(d) {
					// `d` is the original data object for the row
					return '<table class="table table-striped table-bordered table-hover">' +
						'<tr>' +
						'<td width="20"><strong>Customers App Date: </strong></td>' +
						'<td>' + moment(new Date(d.customerAppDate)).format("YYYY-MM-DD") + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Request Date: </strong></td>' +
						'<td>' + moment(new Date(d.renewRequestDate)).format("YYYY-MM-DD") + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Account Operation: </strong></td>' +
						'<td>' + d.accountOperation + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Account Type: </strong></td>' +
						'<td>' + d.accountType + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Account Number: </strong></td>' +
						'<td>' + d.accountNumber + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Client Code: </strong></td>' +
						'<td>' + d.clientCode + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Branch Code: </strong></td>' +
						'<td>' + d.branchCode + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Currency: </strong></td>' +
						'<td>' + d.currency + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Full Name: </strong></td>' +
						'<td>' + d.fName + ' ' + d.lName + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Gender: </strong></td>' +
						'<td>' + d.gender + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Marital Status: </strong></td>' +
						'<td>' + d.maritalStatus + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Contact Address : </strong></td>' +
						'<td>' + d.contactAddress + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Email: </strong></td>' +
						'<td>' + d.emailAddress + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Mobile Number: </strong></td>' +
						'<td><i class="fa fa-mobile light-red bigger-110"> </i> ' + d.mobileNumber + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Telephone Number: </strong></td>' +
						'<td><i class="fa fa-phone light-orange bigger-110"> </i> ' + d.phoneNumber + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Card Req. Originating Branch: </strong></td>' +
						'<td>' + d.cardReqOriginatingBranch + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Card Status: </strong></td>' +
						'<td>' + d.cardStatus + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Status Updated Date: </strong></td>' +
						'<td>' + moment(new Date(d.statusUpdatedDate)).format("YYYY-MM-DD") + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Card Request Remarks: </strong></td>' +
						'<td>' + d.requestRemark + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Renew Remarks: </strong></td>' +
						'<td>' + d.renewRemarks + '</td>' +
						'</tr>' +

						'</table>';
				}
			}

			function createActiveDataTableRenew(data) {
				var table = $('#dynamicActive-table').DataTable({
					"order": [21, "asc"],
					responsive: true,
					destroy: true,
					"data": data,
					select: "single",
					"columns": [
						{
							"className": 'details-control',
							"orderable": false,
							"data": null,
							"defaultContent": '',
							"render": function () {
								return '<i class="ace-icon fa fa-angle-double-down fa-2x" title="Show details" aria-hidden="true"></i>';
							}
						},
						{
							"data": "customerAppDate",
							"render": function (data, type, row, meta) {
								if (data === null) return "";
								var thisDate = moment(new Date(data)).format("YYYY-MM-DD");
								return thisDate
							}
						},
						{"data": "cardReqOriginatingBranch"},
						{
							"data": "renewRequestDate",
							"render": function (data, type, row, meta) {
								if (data === null) return "";
								var thisDate = moment(new Date(data)).format("YYYY-MM-DD");
								return thisDate
							}
						},
						{"data": "accountOperation"},
						{
							"data": "accountType"
						},
						{"data": "accountNumber"},
						{
							"data": "clientCode",
							"render": function (data, type, row, meta) { // render event defines the markup of the cell text 
								var a = '<a href="/renewcardrequest/detailpage/' + row["id"] + '" title="Click for more details">' + row.clientCode + '</a>';
								return a;
							}
						},
						{"data": "branchCode"},
						{"data": "currency"},
						{"data": "fName"},
						{"data": "lName"},
						{
							"data": "gender"
						},
						{
							"data": "maritalStatus"
						},
						{"data": "contactAddress"},
						{"data": "mobileNumber"},
						{"data": "emailAddress"},
						{"data": "cardStatus"},
						{"data": "statusUpdatedDate"},
						{"data": "requestRemark"},
						{"data": "renewRemarks"},
						{
							"data": "cardExpiryDate",
							"render": function (data, type, row, meta) {
								if (data === null) return "";
								var todayDate = moment(new Date()).format("YYYY-MM-DD");
								var thisDate = moment(new Date(data)).format("YYYY-MM-DD");
								let expiryVal = null;
								if (todayDate > thisDate) {
									expiryVal = '<span class="label label-lg label-pink" title="Card Expired!!!">' + thisDate + '</span>';
									return expiryVal;
								} else {
									expiryVal = '<span class="label label-lg label-success" title="Active">' + thisDate + '</span>';
									return expiryVal;
								}
							}
						},
						{
							"data": null,
							"orderable": false,
							"render": function (data, type, row, meta) { // render event defines the markup of the cell text 
								var a = '<div class="btn-group"><a class="btn btn-xs no-border btn-round btn-success" title="Click to view details." href="/renewcardrequest/detailpage/' + row["id"] + '">View &nbsp;</a></div>';
								return a;
							}
						}
					],
					dom: 'Blfrtip',
					buttons: [
						{
							"extend": "copy",
							"text": "<i class='fa fa-copy bigger-110 pink'></i> <span class='hidden'>Copy to clipboard</span>",
							"className": "btn btn-white btn-primary btn-bold"
						},
						{
							"extend": "csv",
							"text": "<i class='fa fa-file-excel-o bigger-110 blue'></i> <span class='hidden'>Export to CSV</span>",
							"className": "btn btn-white btn-primary btn-bold"
						},
						{
							"extend": "excel",
							"text": "<i class='fa fa-file-excel-o bigger-110 green'></i> <span class='hidden'>Export to Excel</span>",
							"className": "btn btn-white btn-primary btn-bold",
							"exportOptions": {modifier: {page: 'all'}}
						},
						{
							"extend": "pdf",
							"text": "<i class='fa fa-file-pdf-o bigger-110 red'></i> <span class='hidden'>Export to PDF</span>",
							"className": "btn btn-white btn-primary btn-bold",
							"exportOptions": {modifier: {page: 'all'}}
						},
						{
							"extend": "print",
							"text": "<i class='fa fa-print bigger-110 grey'></i> <span class='hidden'>Print</span>",
							"className": "btn btn-white btn-primary btn-bold",
							autoPrint: false,
							orientation: 'landscape',
							title: 'Renew Card Request List - (Active)'
						}
					]

				});

				// Add event listener for opening and closing details
				$('#dynamicActive-table tbody').on('click', 'td.details-control', function () {
					var tr = $(this).closest('tr');
					var tdi = tr.find("i.fa");
					var row = table.row(tr);

					if (row.child.isShown()) {
						// This row is already open - close it
						row.child.hide();
						tr.removeClass('shown');
						tdi.first().removeClass('fa fa-angle-double-up fa-2x');
						tdi.first().addClass('fa fa-angle-double-down fa-2x');
					}
					else {
						// Open this row
						row.child(format(row.data())).show();
						tr.addClass('shown');
						tdi.first().removeClass('fa fa-angle-double-down fa-2x');
						tdi.first().addClass('fa fa-angle-double-up fa-2x');
					}
				});

				table.on("user-select", function (e, dt, type, cell, originalEvent) {
					if ($(cell.node()).hasClass("details-control")) {
						e.preventDefault();
					}
				});

				function format(d) {
					// `d` is the original data object for the row
					return '<table class="table table-striped table-bordered table-hover">' +
						'<tr>' +
						'<td width="20"><strong>Customers App Date: </strong></td>' +
						'<td>' + moment(new Date(d.customerAppDate)).format("YYYY-MM-DD") + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Request Date: </strong></td>' +
						'<td>' + moment(new Date(d.renewRequestDate)).format("YYYY-MM-DD") + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Account Operation: </strong></td>' +
						'<td>' + d.accountOperation + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Account Type: </strong></td>' +
						'<td>' + d.accountType + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Account Number: </strong></td>' +
						'<td>' + d.accountNumber + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Client Code: </strong></td>' +
						'<td>' + d.clientCode + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Branch Code: </strong></td>' +
						'<td>' + d.branchCode + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Currency: </strong></td>' +
						'<td>' + d.currency + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Full Name: </strong></td>' +
						'<td>' + d.fName + ' ' + d.lName + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Gender: </strong></td>' +
						'<td>' + d.gender + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Marital Status: </strong></td>' +
						'<td>' + d.maritalStatus + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Contact Address : </strong></td>' +
						'<td>' + d.contactAddress + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Email: </strong></td>' +
						'<td>' + d.emailAddress + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Mobile Number: </strong></td>' +
						'<td><i class="fa fa-mobile light-red bigger-110"> </i> ' + d.mobileNumber + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Telephone Number: </strong></td>' +
						'<td><i class="fa fa-phone light-orange bigger-110"> </i> ' + d.phoneNumber + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Card Req. Originating Branch: </strong></td>' +
						'<td>' + d.cardReqOriginatingBranch + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Card Status: </strong></td>' +
						'<td>' + d.cardStatus + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Status Updated Date: </strong></td>' +
						'<td>' + moment(new Date(d.statusUpdatedDate)).format("YYYY-MM-DD") + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Card Request Remarks: </strong></td>' +
						'<td>' + d.requestRemark + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Renew Remarks: </strong></td>' +
						'<td>' + d.renewRemarks + '</td>' +
						'</tr>' +

						'</table>';
				}
			}
		</script>
		<script>

			$(document).ready(function () {
				ajaxGetAllRenewCardEdit();
			});


			function ajaxGetAllRenewCardEdit() {
				const url = '/getallrenew';
				$.getJSON(url, function (data) {
					createEditDataTableRenew(data);
				});
			}

			function createEditDataTableRenew(data) {
				var table = $('#dynamicEdit-table').DataTable({
					"order": [3, "desc"],
					destroy: true,
					responsive: true,
					"data": data,
					select: "single",
					"columns": [
						{
							"className": 'details-control',
							"orderable": false,
							"data": null,
							"defaultContent": '',
							"render": function () {
								return '<i class="ace-icon fa fa-angle-double-down fa-2x" title="Show details" aria-hidden="true"></i>';
							}
						},
						{
							"data": "customerAppDate",
							"render": function (data, type, row, meta) {
								if (data === null) return "";
								var thisDate = moment(new Date(data)).format("YYYY-MM-DD");
								return thisDate
							}
						},
						{"data": "cardReqOriginatingBranch"},
						{
							"data": "renewRequestDate",
							"render": function (data, type, row, meta) {
								if (data === null) return "";
								var thisDate = moment(new Date(data)).format("YYYY-MM-DD");
								return thisDate
							}
						},
						{"data": "accountOperation"},
						{
							"data": "accountType"
						},
						{"data": "accountNumber"},
						{
							"data": "clientCode",
							"render": function (data, type, row, meta) { // render event defines the markup of the cell text 
								var a = '<a href="/renewcardrequest/detailpage/' + row["id"] + '" title="Click for more details">' + row.clientCode + '</a>';
								return a;
							}
						},
						{"data": "branchCode"},
						{"data": "currency"},
						{"data": "fName"},
						{"data": "lName"},
						{
							"data": "gender"
						},
						{
							"data": "maritalStatus"
						},
						{"data": "contactAddress"},
						{"data": "mobileNumber"},
						{"data": "emailAddress"},
						{"data": "cardStatus"},
						{"data": "statusUpdatedDate"},
						{"data": "requestRemark"},
						{"data": "renewRemarks"},
						{
							"data": null,
							"orderable": false,
							"render": function (data, type, row, meta) { // render event defines the markup of the cell text 
								var a = '<div class="btn-group"><a class="btn btn-xs no-border btn-round btn-success" title="Click to view details." href="/renewcardrequest/editpage/' + row["id"] + '"><i class="ace-icon fa fa-search-plus bigger-160" aria-hidden="true"></i></a></div>';
								return a;
							}
						},
						{
							"data": null,
							"orderable": false,
							"render": function (data, type, row, meta) { // render event defines the markup of the cell text 
								var a = '<div class="btn-group"><a class="btn btn-xs btn-danger careRenew_delete" title="Delete details.">&nbsp;<i class="ace-icon fa fa-trash-o bigger-160" aria-hidden="true"></i></a></div>';
								return a;
							}
						}
					],
					dom: 'Blfrtip',
					buttons: [
						{
							"extend": "copy",
							"text": "<i class='fa fa-copy bigger-110 pink'></i> <span class='hidden'>Copy to clipboard</span>",
							"className": "btn btn-white btn-primary btn-bold"
						},
						{
							"extend": "csv",
							"text": "<i class='fa fa-file-excel-o bigger-110 blue'></i> <span class='hidden'>Export to CSV</span>",
							"className": "btn btn-white btn-primary btn-bold"
						},
						{
							"extend": "excel",
							"text": "<i class='fa fa-file-excel-o bigger-110 green'></i> <span class='hidden'>Export to Excel</span>",
							"className": "btn btn-white btn-primary btn-bold",
							"exportOptions": {modifier: {page: 'all'}}
						},
						{
							"extend": "pdf",
							"text": "<i class='fa fa-file-pdf-o bigger-110 red'></i> <span class='hidden'>Export to PDF</span>",
							"className": "btn btn-white btn-primary btn-bold",
							"exportOptions": {modifier: {page: 'all'}}
						},
						{
							"extend": "print",
							"text": "<i class='fa fa-print bigger-110 grey'></i> <span class='hidden'>Print</span>",
							"className": "btn btn-white btn-primary btn-bold",
							autoPrint: false,
							orientation: 'landscape',
							title: 'Renew Card Request List'
						}
					]

				});

				// Add event listener for opening and closing details
				$('#dynamicEdit-table tbody').on('click', 'td.details-control', function () {
					var tr = $(this).closest('tr');
					var tdi = tr.find("i.fa");
					var row = table.row(tr);

					if (row.child.isShown()) {
						// This row is already open - close it
						row.child.hide();
						tr.removeClass('shown');
						tdi.first().removeClass('fa fa-angle-double-up fa-2x');
						tdi.first().addClass('fa fa-angle-double-down fa-2x');
					}
					else {
						// Open this row
						row.child(format(row.data())).show();
						tr.addClass('shown');
						tdi.first().removeClass('fa fa-angle-double-down fa-2x');
						tdi.first().addClass('fa fa-angle-double-up fa-2x');
					}
				});

				table.on("user-select", function (e, dt, type, cell, originalEvent) {
					if ($(cell.node()).hasClass("details-control")) {
						e.preventDefault();
					}
				});

				function format(d) {
					// `d` is the original data object for the row
					return '<table class="table table-striped table-bordered table-hover">' +
						'<tr>' +
						'<td width="20"><strong>Customers App Date: </strong></td>' +
						'<td>' + moment(new Date(d.customerAppDate)).format("YYYY-MM-DD") + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Request Date: </strong></td>' +
						'<td>' + moment(new Date(d.renewRequestDate)).format("YYYY-MM-DD") + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Account Operation: </strong></td>' +
						'<td>' + d.accountOperation + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Account Type: </strong></td>' +
						'<td>' + d.accountType + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Account Number: </strong></td>' +
						'<td>' + d.accountNumber + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Client Code: </strong></td>' +
						'<td>' + d.clientCode + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Branch Code: </strong></td>' +
						'<td>' + d.branchCode + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Currency: </strong></td>' +
						'<td>' + d.currency + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Full Name: </strong></td>' +
						'<td>' + d.fName + ' ' + d.lName + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Gender: </strong></td>' +
						'<td>' + d.gender + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Marital Status: </strong></td>' +
						'<td>' + d.maritalStatus + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Contact Address : </strong></td>' +
						'<td>' + d.contactAddress + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Email: </strong></td>' +
						'<td>' + d.emailAddress + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Mobile Number: </strong></td>' +
						'<td><i class="fa fa-mobile light-red bigger-110"> </i> ' + d.mobileNumber + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Telephone Number: </strong></td>' +
						'<td><i class="fa fa-phone light-orange bigger-110"> </i> ' + d.phoneNumber + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Card Req. Originating Branch: </strong></td>' +
						'<td>' + d.cardReqOriginatingBranch + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Card Status: </strong></td>' +
						'<td>' + d.cardStatus + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Status Updated Date: </strong></td>' +
						'<td>' + moment(new Date(d.statusUpdatedDate)).format("YYYY-MM-DD") + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Card Request Remarks: </strong></td>' +
						'<td>' + d.requestRemark + '</td>' +
						'</tr>' +
						'<tr>' +
						'<td width="15%"><strong>Renew Remarks: </strong></td>' +
						'<td>' + d.renewRemarks + '</td>' +
						'</tr>' +

						'</table>';
				}
				// Delete record - In Transit
				$('#dynamicEdit-table').on('click', 'a.careRenew_delete', function (e) {
					e.preventDefault();
					var row_val = table.row($(this).closest('tr'));
					var data_val = row_val.data();
					deleteCardRenw(data_val.id);

				});
			}


			function deleteCardRenw(control) {
				var dialog = bootbox.dialog({
					title: 'Delete Card Renew Data!!!',
					message: '<p>Are you sure you want to delete recorded card renew data?</p>',
					size: 'md',
					onEscape: true,
					backdrop: true,
					buttons: {
						cancel: {
							label: '<i class="fa fa-times"></i> Cancel',
							className: 'btn-danger pull-right margin-left-10px',
						},
						ok: {
							label: '<i class="fa fa-check"></i> Confirm',
							className: 'btn-info',
							callback: function (result) {
								if (result) {
									$.ajax({
										type: 'DELETE',
										url: '/updatecardrenew/delete/' + control,
										success: function (result) {
											$('#showMessage').append("<div class='alert alert-danger'><button type='button' class='close' data-dismiss='alert'><i class='ace-icon fa fa-times'></i></button><br>"
												+ result.message + ': ' + result.data + "</div>");
											alert(result.message
												+ ': ' + result.data);
											window.location.href = "/renewcardrequest";
										},
										error: function (jqXHR, textStatus, errorThrown) {
											alert(jqXHR.status + ' ' + jqXHR.responseText);
										}
									});
								}
							}
						}
					},
				});
			}


		</script>
	</th:block>
</body>

</html>