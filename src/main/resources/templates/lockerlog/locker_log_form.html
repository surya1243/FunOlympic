<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:th="http://www.w3.org/1999/xhtml"
	  layout:decorate="~{layouts/default}">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta charset="utf-8" />
    <title> Locker Log Page</title>
    <th:block layout:fragment="styles">
    <link rel="stylesheet" href="../static/css/bootstrap-timepicker.min.css" th:href="@{/css/bootstrap-timepicker.min.css}" />    
    </th:block>
</head>
<body>
     <div layout:fragment="content">
		<div class="breadcrumbs ace-save-state" id="breadcrumbs">
			<ul class="breadcrumb">
				<li>
					<i class="ace-icon fa fa-home home-icon"></i>
					<a href="#">Home</a>
				</li>
				<li>
					<a href="#">Locker </a>
				</li>
				<li class="active">Locker Log Form </li>
			</ul><!-- /.breadcrumb -->	
		</div>	
		<div class="page-content">	
			<div class="row">
				<div class="col-xs-12">
					<!-- PAGE CONTENT BEGINS -->
					<div th:if="${message}">
						<h2 class="alert alert-danger" th:text="${message}" />
					</div>
					<div th:if="${successMessage}">
						<div class="alert alert-success">
							<button type="button" class="close" data-dismiss="alert">
								<i class="ace-icon fa fa-times"></i>
							</button>
							<strong th:text="${successMessage}">Success!</strong> <br />
						</div>
					</div>
				</div>
			</div>	
			<div class="row">
				<div class="col-xs-12">	
					<div class="col-xs-12 col-sm-4">
					<div class="space-10"></div>	
						<div class="well">
							<dl class="dl-horizontal">
								<dt>Locker Holder's Name : </dt>
								<dd th:text="${customerLockerValue?.lockerHolderName}"></dd>
								
								<dt >Nominee's Name : </dt>
								<dd th:text="${customerLockerValue?.beneficName}"></dd>
								
								<dt>Authorized Person : </dt>
								<dd th:text="${customerLockerValue?.authorizedPerson}"></dd>
							</dl>
						</div>
					</div>	
				<div class="col-xs-12 col-sm-8">
					<form method="POST" th:object="${lockerLog}" autocomplete="off"
							th:action="@{/lockerlogform}" class="form-horizontal" data-toggle="validator" role="form">
								<div class="col-sm-10 form-actions">
									<div class="form-group">
										<label class="col-sm-5 control-label no-padding-right"
											for="idLockId"> Locker ID <span class="red">*</span>: </label>
										<div class="col-sm-7">
											<input type="text" class="col-xs-10 col-sm-12"
														th:value="${customerLockerValue?.lockerId}" name="lockerId" id="idLockId" readonly required />
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-5 control-label no-padding-right" for="date-timepicker1"> Checked In Date <span class="red">*</span>: </label>
										<div class="col-sm-7">
										<input id="date-timepicker1" type="text" name="checkednDate" class="col-xs-10 col-sm-12 date-picker" 
												data-date-format="yyyy-mm-dd" placeholder="Select the Date" required/>
											<span class="help-inline col-xs-12 col-sm-7">
											</span>
										</div>
									</div>


									<div class="form-group">
										<label class="col-sm-5 control-label no-padding-right" for="timepicker1"> In Time <span class="red">*</span>: </label>
										<div class="col-sm-7">
											<span class="input-icon input-icon-right ">
												<input id="timepicker1" type="text" name="checkedInTime" data-date-format="hh:mm:ss" required/>
													<i class="ace-icon fa fa-clock-o green"></i>
											</span>
											<span class="help-inline col-xs-12 col-sm-7">
											</span>
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-5 control-label no-padding-right"
											for="idLockerHolderName"> Locker Holder's Name <span class="red">*</span>: </label>
										<div class="col-sm-7">
											<input name="lockerHolderName" id="idLockerHolderName" th:value="${customerLockerValue?.lockerHolderName}"
												type="text"
												class="col-xs-10 col-sm-12" readonly required/>
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-5 control-label no-padding-right"
											for="idLockerStatus"> Locker Status <span class="red">*</span>: </label>
										<div class="col-sm-7">
											<input name="lockerStatus" id="idLockerStatus"  th:value="${customerLockerValue?.lockerStatus}"
												type="text" readonly
												class="col-xs-10 col-sm-12" required/>
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-5 control-label no-padding-right"
											for="idAuthorizedPerson"> Authorized Person (To operate locker) <span class="red">*</span>: </label>
										<div class="col-sm-7">
											<input name="authorizedPerson" id="idAuthorizedPerson" th:value="${customerLockerValue?.authorizedPerson}"
												type="text"
												class="col-xs-10 col-sm-12" readonly required/>
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-5 control-label no-padding-right"
											for="idLockerUsedBy"> Locker Opened/Used By <span class="red">*</span>: </label>
										<div class="col-sm-7">
											<input name="lockerUsedBy" id="idLockerUsedBy"
												placeholder="Enter the name " type="text"
												class="col-xs-10 col-sm-12" required/>
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-5 control-label no-padding-right"
											for="idcustodianValA"> Custodian's Name (A-Panel) <span class="red">*</span>: </label>
										<div class="col-sm-7">
											<select class="chosen-select col-xs-10 col-sm-12" data-placeholder="Choose Fiscal Year..." id="idcustodianValA" 
											name="custodianA" required>
												<option value="" disabled selected>Choose A-Panel Custodian's Name...</option>
												<option th:each="custodianValA : ${custodianValueA}"
														th:value="${custodianValA.custodianName}"
														th:text="${custodianValA.custodianName}"></option>
											</select>
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-5 control-label no-padding-right"
											for="idCustodianB"> Custodian's Name (B-Panel) <span class="red">*</span>: </label>
										<div class="col-sm-7">
											<select class="chosen-select col-xs-10 col-sm-12" data-placeholder="Choose Fiscal Year..." id="idCustodianB" 
											name="custodianB" required>
												<option value="" disabled selected>Choose B-Panel Custodian's Name...</option>
												<option th:each="custodianValB : ${custodianValueB}"
														th:value="${custodianValB.custodianName}"
														th:text="${custodianValB.custodianName}"></option>
											</select>
										</div>
									</div>

									<div class="form-group">
									<label class="col-sm-5 control-label no-padding-right" for="idLockerExistBranch"> Locker Exists Branch <span class="red">*</span>: </label>
										<div class="col-sm-7">
											<input name="lockerExistBranch" id="idLockerExistBranch"  th:value="${customerLockerValue?.branchName}"
												type="text" readonly
												class="col-xs-10 col-sm-12" required/>
											<span class="help-inline col-xs-12 col-sm-7">
											</span>
										</div>
									</div>																	
														
									<div class="form-group">
										<label class="col-sm-5 control-label no-padding-right"
											for="idRemarks"> Remarks for In/Out (If any): </label>
										<div class="col-sm-7">
											<textarea name="remark" placeholder="Description"
												id="idRemarks" class="col-xs-10 col-sm-12"></textarea>
										</div>
									</div>
									<div class="clearfix">
										<button type="submit"
											class="width-65 pull-right btn btn-sm btn-success">
											<span class="bigger-110"> Submit </span> 
											<i class="ace-icon fa fa-arrow-right icon-on-right"></i>
										</button>
									</div>									
								</div>
							</form>
				
					</div>


				</div>
			</div>
			</div>
		</div>                     
<!-- basic scripts -->
<th:block layout:fragment="scripts">
	<script src="../static/js/bootstrap-timepicker.min.js" th:src="@{/js/bootstrap-timepicker.min.js/}"></script>
 	<script>
		autosize(document.querySelectorAll('textarea'));
	</script>
	<script th:inline="javascript">
		/*<![CDATA[*/
		var statusEffDateValue = /*[[${customerLockerValue.statusEffDate}]]*/ 'statusEffDate';
		var branchNameValue = /*[[${customerLockerValue.branchName}]]*/ 'branchName';
		var lockerStatusValue = /*[[${customerLockerValue.lockerStatus}]]*/ 'lockerStatus';
		/*]]>*/
		function setSelectedIndex(s, v) {
		    for ( var i = 0; i < s.options.length; i++ ) {
		        if ( s.options[i].value == v ) {
		            s.options[i].selected = true;
		            break;
		        }
		    }
		    return;
		}
		setSelectedIndex(document.getElementById('idLockerStatus'),lockerStatusValue);
		setSelectedIndex(document.getElementById('idBranch'),branchNameValue);

		if(statusEffDateValue===null){
			$('#idStautsEffDate').hide();
		}else{
			$('#idStautsEffDate').show();
		}
	</script>

	<script>
		$(document).ready(function(){
			$('#idPaidCancelDateOpt').hide();
			$("#idMCStauts").change(function() {
				showResolvedDateBox();
			});
		});
		
		function showResolvedDateBox(){
			let statusValue = $('#idMCStauts').val();
			if(!(statusValue==='Active')){
				$('#idPaidCancelDateOpt').show();
				$("[name='paidCancelDate']").attr("required", true);
			}else{
				$('#idPaidCancelDateOpt').hide();
			}
		}
		
	</script>
    <script>
	if(!ace.vars['touch']) {
		$('.chosen-select').chosen({allow_single_deselect:true}); 
		//resize the chosen on window resize
		$(window)
		.off('resize.chosen')
		.on('resize.chosen', function() {
			$('.chosen-select').each(function() {
				 var $this = $(this);
				 $this.next().css({'width': $this.width()});
			})
		}).trigger('resize.chosen');
		//resize chosen on sidebar collapse/expand
		$(document).on('settings.ace.chosen', function(e, event_name, event_val) {
			if(event_name != 'sidebar_collapsed') return;
			$('.chosen-select').each(function() {
				 var $this = $(this);
				 $this.next().css({minWidth: '380px'});
			})
		});
	}
	$('.date-picker').datepicker({
		autoclose: true,
		todayHighlight: true
	})
	//show datepicker when clicking on the icon
	.next().on(ace.click_event, function(){
		$(this).prev().focus();
	});
	
	$('#timepicker1').timepicker({
					minuteStep: 1,
					showSeconds: true,
					showMeridian: false,
					disableFocus: true,
					icons: {
						up: 'fa fa-chevron-up',
						down: 'fa fa-chevron-down'
					}
				}).on('focus', function() {
					$('#timepicker1').timepicker('showWidget');
				}).next().on(ace.click_event, function(){
					$(this).prev().focus();
				});
				

    </script>
</th:block>

</body>
</html>
