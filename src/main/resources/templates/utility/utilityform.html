<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:th="http://www.w3.org/1999/xhtml"
      layout:decorate="~{layouts/default}">
<head>
    <meta charset="ISO-8859-1"/>
    <title>Add Form</title>
</head>
<body>
<div layout:fragment="content">
    <div class="breadcrumbs ace-save-state" id="breadcrumbs">
        <ul class="breadcrumb">
            <li>
                <i class="ace-icon fa fa-home home-icon"></i>
                <a href="#">Home</a>
            </li>
            <li><a href="/utilitylist">Utility Expenses</a></li>
            <li class="active">Add Utility</li>
        </ul>
    </div>
    <div class="page-content">
        <div class="page-header">
            <h1>
               <i class="ace-icon fa fa-plug"></i>  Utility Form
                <small>
                    <i class="ace-icon fa fa-angle-double-right"></i>
                    Enter the Form details
                </small>
            </h1>
        </div>
			<div class="row">
				<div class="col-xs-12">
					<div th:if="${message}">
						<h2 class="alert alert-danger" th:text="${message}" />
					</div>
					<div th:if="${successMessage}">
						<div class="alert alert-success">
							<button type="button" class="close" data-dismiss="alert">
								<i class="ace-icon fa fa-times"></i>
							</button>
							<strong th:text="${successMessage}">Success!</strong> <br />
						</div>
					</div>
				</div>
			</div>
        <div class="row">
            <div class="col-sm-12 table-responsive">
                <form th:object="${utilityBills}" method="POST" th:action="@{/bill/submit}" id="myform" autocomplete="off"
                      data-toggle="validator" role="form">
                    <div class="col-xs-12 col-sm-3">
                    <div class="space-8"></div>
                        <div>
                            <label for="idBranchName">Branch<small class="red"> *</small></label>
                            <br/>
                            <select class="chosen-select form-control" id="idBranchName" name="branchName"
                                    data-placeholder="Choose Branch..." required>
                                <option value=""></option>
                                <option th:each="branches : ${branchLists}"
                                        th:value="${branches.branchName}"
                                        th:text="${branches.branchName}"
                                        th:selected="${branches.branchName == currentUsers.branchName}"></option>
                            </select>
                        </div>
                        <hr/>
                        <div>
                            <label for="idFiscalYear">Fiscal Year<small class="red"> *</small></label>
                            <br/>
                            <select class="chosen-select form-control" id="idFiscalYear" name="fiscalYear"
                                    data-placeholder="Choose Fiscal Year..." required>
                                <option value=""></option>
                                <option th:each="year : ${fiscalYears}"
                                        th:value="${year.fiscalYears}"
                                        th:text="${year.fiscalYears}"></option>
                            </select>
                        </div>
                        <hr/>
                        <div>
                            <label for="idMonth">Month<small class="red"> *</small></label>
                            <br/>
                            <select class="chosen-select form-control" data-placeholder="Choose a Month..." id="idMonth"
                                    name="month" required>
                                <option value=""></option>
                                <option value="Shrawan">Shrawan</option>
                                <option value="Bhadra">Bhadra</option>
                                <option value="Ashoj">Ashoj</option>
                                <option value="Kartik">Kartik</option>
                                <option value="Mangsir">Mangsir</option>
                                <option value="Poush">Poush</option>
                                <option value="Magh">Magh</option>
                                <option value="Falgun">Falgun</option>
                                <option value="Chaitra">Chaitra</option>
                                <option value="Baishak">Baishak</option>
                                <option value="Jestha">Jestha</option>
                                <option value="Asar">Asar</option>
                            </select>
                        </div>
                        <hr/>
                        <div><p></p>
                        </div>
						<input id="idLodgedBy" type="hidden" name="lodgedBy"
							th:value="${currentUsers.email}" readonly />
                    </div>
                    <div class="col-xs-12 col-sm-9">
                        <table class="table table-striped table-bordered table-hover" id="dynamic-table" aria-hidden="true">
                            <thead>
                            <tr>
                                <th width="27%" class="text-center">
                                    Utility Category
                                </th>
                                <th width="21%" class="text-center">
                                    Amount (Rs.)<small class="red"> *</small>
                                </th>
                                <th class="text-center">
                                    Remarks
                                </th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr >
                                <td>
                                    Electricity Expenses<small class="red"> *</small>
                                </td>
                                <td class="form-group">
                                    <input type="number" id="idElectricity" placeholder="0.00" min="0" step="any"
                                           pattern="^\d+(?:\.\d{1,2})?$"
                                           onblur="this.parentNode.parentNode.style.backgroundColor=/^\d+(?:\.\d{1,2})?$/.test(this.value)?'inherit':'#f28c0e14'"
                                           name='electricityExpenseAmount' class="form-control" required/>
                                           <div class="help-block with-errors"></div>
                                </td>
                                <td>
                                    <textarea name="electricityExpenseRemarks" placeholder="Description"
                                              class="form-control"></textarea>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Fuel Expenses (Vehicle- 2 Wheeler)<small class="red"> *</small></td>
                                <td class="form-group">
                                    <input type="number" placeholder="0.00" min="0" step="any"
                                           pattern="^\d+(?:\.\d{1,2})?$"
                                           onblur="this.parentNode.parentNode.style.backgroundColor=/^\d+(?:\.\d{1,2})?$/.test(this.value)?'inherit':'#f28c0e14'"
                                           name='fuelExpensesTwoWheelAmount' class="form-control" required/>
                                           <div class="help-block with-errors"></div>
                                </td>
                                <td>
                                    <textarea name="fuelExpensesTwoWheelRemarks" placeholder="Description"
                                              class="form-control"></textarea>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Fuel Expenses (Vehicle-4 Wheeler)<small class="red"> *</small>
                                </td>
                                <td class="form-group">
                                    <input type="number" placeholder="0.00" min="0" step="any"
                                           pattern="^\d+(?:\.\d{1,2})?$"
                                           onblur="this.parentNode.parentNode.style.backgroundColor=/^\d+(?:\.\d{1,2})?$/.test(this.value)?'inherit':'#f28c0e14'"
                                           name='fuelExpensesFourWheelAmount' class="form-control" required/>
                                           <div class="help-block with-errors"></div>
                                </td>
                                <td>
                                    <textarea name="fuelExpensesFourWheelRemarks" placeholder="Description"
                                              class="form-control"></textarea>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Fuel Expenses (Genset)<small class="red"> *</small></td>
                                <td class="form-group">
                                    <input type="number" placeholder="0.00" min="0" step="any"
                                           pattern="^\d+(?:\.\d{1,2})?$"
                                           onblur="this.parentNode.parentNode.style.backgroundColor=/^\d+(?:\.\d{1,2})?$/.test(this.value)?'inherit':'#f28c0e14'"
                                           name='fuelGensetAmount' class="form-control" required/>
                                           <div class="help-block with-errors"></div>
                                </td>
                                <td>
                                    <textarea name="fuelGensetRemarks" placeholder="Description"
                                              class="form-control"></textarea>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Telephone Expenses<small class="red"> *</small>
                                </td>
                                <td class="form-group">
                                    <input type="number" placeholder="0.00" min="0" step="any"
                                           pattern="^\d+(?:\.\d{1,2})?$"
                                           onblur="this.parentNode.parentNode.style.backgroundColor=/^\d+(?:\.\d{1,2})?$/.test(this.value)?'inherit':'#f28c0e14'"
                                           name='telephoneExpenseAmount' class="form-control" required/>
                                           <div class="help-block with-errors"></div>
                                </td>
                                <td>
                                    <textarea name="telephoneExpenseRemarks" placeholder="Description"
                                              class="form-control"></textarea>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    Maintenance Expenses<small class="red"> *</small></td>
                                <td class="form-group">
                                    <input type="number" placeholder="0.00" min="0" step="any"
                                           pattern="^\d+(?:\.\d{1,2})?$"
                                           onblur="this.parentNode.parentNode.style.backgroundColor=/^\d+(?:\.\d{1,2})?$/.test(this.value)?'inherit':'#f28c0e14'"
                                           name='maintenanceExpenseAmount' class="form-control" required/>
                                           <div class="help-block with-errors"></div>
                                </td>
                                <td>
                                    <textarea name="maintenanceExpenseRemarks" placeholder="Description"
                                              class="form-control"></textarea>
                                </td>
                            </tr>
                            <tr id="idOtherExpenses">
                                <td>
                                    Others Expenses</td>
                                <td class="form-group">
                                    <input type="number" placeholder="0.00" min="0" step="any"
                                           pattern="^\d+(?:\.\d{1,2})?$" value="0.00"
                                           onblur="this.parentNode.parentNode.style.backgroundColor=/^\d+(?:\.\d{1,2})?$/.test(this.value)?'inherit':'#f28c0e14'"
                                           name='othersExpensesAmount' class="form-control" data-error="Null value, atleast enter 0." required/>
                                           <div class="help-block with-errors"></div>
                                </td>
                                <td>
                                    <textarea name="othersExpensesRemarks" placeholder="Description"
                                              class="form-control"></textarea>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                        <div class="clearfix form-actions">
                            <div class="col-md-offset-4 col-md-8">
                                <button class="btn btn-primary" type="submit" id="submit">
                                    <i class="ace-icon fa fa-check bigger-110"></i>
                                    Submit
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<th:block layout:fragment="scripts">
    <script src="../static/js/check.js" th:src="@{/js/check.js/}"></script>
    <script>
        $('.chosen-select').chosen();
        $(window)
            .off('resize.chosen')
            .on('resize.chosen', function () {
                $('.chosen-select').each(function () {
                    var $this = $(this);
                    $this.next().css({'width': $this.parent().width()});
                })
            }).trigger('resize.chosen');
    </script>
    <script>
        autosize(document.querySelectorAll('textarea'));
    </script>
    <script>
        $(document).ready(function () {
        	
        	
        });
        
    </script>
    <script type="text/javascript">
        $(document).ready(function () {
            $("#myform").submit(function () {
                if ($("#branchName").val() != '') {
                    return confirm("Are you sure?");
                }
            });
        });

    </script>
</th:block>
</body>
</html>