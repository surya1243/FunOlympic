<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:th="http://www.w3.org/1999/xhtml"
	  layout:decorate="~{layouts/default}">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta charset="utf-8" />
    <title> Edit Maintenance log</title>
    <th:block layout:fragment="styles">
        
    </th:block>
</head>
<body>
    <div layout:fragment="content" sec:authorize="hasAnyAuthority('ADMIN','HIGHSUPERVISOR', 'SUPERVISOR','CARDMAKER','CARDSUPERVISOR')">
		<div class="breadcrumbs ace-save-state" id="breadcrumbs">
			<ul class="breadcrumb">
				<li>
					<i class="ace-icon fa fa-home home-icon"></i>
					<a href="#">Home</a>
				</li>
				<li>
					<a th:href="@{/cardmaintenancelog}">Maintenance log Record</a>
				</li>
				<li class="active">Edit Maintenance log Form</li>
			</ul><!-- /.breadcrumb -->						
		</div> 
		
		<div class="page-content">
			<div class="row">
				<div class="col-xs-12">
					<!-- PAGE CONTENT BEGINS -->
					<div th:if="${message}">
						<h2 class="alert alert-danger" th:text="${message}" />
					</div>
					<div th:if="${successMessage}">
						<div class="alert alert-success">
							<button type="button" class="close" data-dismiss="alert">
								<i class="ace-icon fa fa-times"></i>
							</button>
							<strong th:text="${successMessage}">Success!</strong> <br />
						</div>
					</div>
				</div>
			</div>
			<div class="page-header">
				<h1>
					<i class="ace-icon fa fa-credit-card"></i> Update Maintenance log Form
				</h1>
			</div>
			<!-- /.page-header -->
			<div class="row">
				<div class="col-xs-12">
							<form method="POST" th:object="${maintenanceLog}"
										modelAttribute="maintenanceLog" autocomplete="off"
										th:action="@{/updatemaintenancelog}" class="form-horizontal"
										data-toggle="validator" role="form">
										<div class="hide">
											<input type="text" name="id" th:value="${maintenanceLogById?.id}"/>
										</div>
										
										<div class="col-sm-6 form-actions">
										<div class="form-group">
												<label class="col-sm-4 control-label no-padding-right"
													for="idaccountNumber"> Account Number  <span
													class="red">*</span>:
												</label>
												<div class="col-sm-8">
												<input id="idaccountNumber" type="text" name="accountNumber"
														class="col-xs-12 col-sm-12"
														th:value="${maintenanceLogById?.accountNumber}"  readonly required/>
												</div>
										</div>
										<div class="form-group">
												<label class="col-sm-4 control-label no-padding-right"
													for="idOldCardNumber"> Old Card Number <span
													class="red">*</span>:
												</label>
												<div class="col-sm-8"><div class="input-group">
												<input id="idOldCardNumber" type="text" name="oldCardNumber"
														class="col-xs-12 col-sm-12" 
														th:value="${maintenanceLogById?.oldCardNumber}" readonly/>
												<span
                                                     class="input-group-addon"> <i
                                                     class="fa fa-credit-card bigger-110"></i>
                                                 </span></div>
												</div>
										</div>
										<div class="form-group">
												<label class="col-sm-4 control-label no-padding-right"
													for="idPresentCardNumber"> Present Card Number <span
													class="red">*</span>:
												</label>
												<div class="col-sm-8">
												<div class="input-group">
												<input id="idPresentCardNumber" type="text" name="cardNumber"
												pattern="^[0-9]{5}$"
														onblur="this.parentNode.parentNode.style.backgroundColor=/^[0-9]{5}$/.test(this.value)?'inherit':'transparent'"
														placeholder="Enter last 5 digits of card number"
														data-error="Fill last 5 digits of card number."
														class="col-xs-12 col-sm-12" 
														th:value="${maintenanceLogById?.cardNumber}"  required/>
													<span
                                                         class="input-group-addon"> <i
                                                         class="fa fa-credit-card bigger-110"></i>
                                                     </span>
													</div><div class="help-block with-errors"></div>
												</div>
										</div>
				                        <div class="form-group">
                                                <label class="col-sm-4 control-label no-padding-right"
                                                    for="idCustomerAppDate"> Customer's App Date<small
                                                    class="red"> *</small> :
                                                </label>
                                                <div class="col-sm-8">
                                                    <div class="input-group">
                                                        <input id="idCustomerAppDate" type="text"
                                                            name="customerAppDate" data-date-format="YYYY-MM-DD"
                                                            placeholder="Select date..." required th:value="${{maintenanceLogById?.customerAppDate}}" 
                                                            class="form-control date-picker"
                                                            data-error="Please select Date." /> <span
                                                            class="input-group-addon"> <i
                                                            class="fa fa-clock-o bigger-110"></i>
                                                        </span>
                                                    </div>
                                                </div>
                                                <div class="help-block with-errors"></div>
                                            </div>
											<div class="form-group">
												<label class="col-sm-4 control-label no-padding-right"
													for="idBranchnameVal"> Branch Name<span
													class="red">*</span>:
												</label>
												<div class="col-sm-8">
													<select class="form-control select2" id="idBranchnameVal" name="branchName" data-placeholder="Choose Branch..." data-error="Select Bank branch" required>
														<option th:each="branchList : ${branchLists}"
					                           										 th:value="${branchList.branchName}"
					                          										 th:text="${branchList.branchName}">Branch</option>
														</select>
													<div class="help-block with-errors"></div>
												</div>
											</div>
											                                                                    <div class="form-group">
                                                <label class="col-sm-4 control-label no-padding-right"
                                                    for="idMaintenanceRequestFor"> Maintenance Request For <small
                                                    class="red"> *</small> :
                                                </label>
                                                <div class="col-sm-8">
                                                        <select class="select2 form-control" name="maintenanceRequestFor"
                                                    id="idMaintenanceRequestFor" required
                                                    data-placeholder="Choose maintenance request for..."
                                                    data-error="Please select Maintenance Request For field.">
                                                    <option value=""></option>
                                                    <option value="Card Block (Lost)"> Card Block (Lost) </option>
                                                    <option value="Card Block (Damage)">Card Block (Damage)</option>
                                                    <option value="Re_Pin">Re-Pin</option>
                                                    <option value="Refresh">Refresh</option>
                                                    <option value="A/C Update">A/C Update</option>
                                                    <option value="Others">Others</option>
                                                </select>
                                                <div class="help-block with-errors"></div>
                                                </div>
                                            </div>
											<div class="form-group">
												<label class="col-sm-4 control-label no-padding-right"
													for="idMaintenanceRequestDate"> Maintenance Request Date  <span
													class="red">*</span>:
												</label>
												<div class="col-sm-8">
													<input id="idMaintenanceRequestDate" type="text"
														name="maintenanceRequestDate" th:value="${{maintenanceLogById?.maintenanceRequestDate}}" 
														class="col-xs-12 col-sm-12 date-picker"
														data-date-format="yyyy-mm-dd"
														placeholder="Select Maintenance Request Date" required />
													<div class="help-block with-errors"></div>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-4 control-label no-padding-right"
													for="idMaintenanceRemarks">  Remarks (Maintenance) <span
													class="red">*</span>:
												</label>
												<div class="col-sm-8">
													<textarea name="maintenanceRemarks" th:value="${maintenanceLogById?.maintenanceRemarks}" 
													th:text="${maintenanceLogById?.maintenanceRemarks}" maxlength="1200"
														placeholder="Description" required id="idMaintenanceRemarks"
														class="col-xs-12 col-sm-12 limited"></textarea>
													<div class="help-block with-errors"></div>
												</div>
											</div>
											 <div class="form-group">
                                                <label class="col-sm-4 control-label no-padding-right"
                                                    for="idLodgedBy"> Lodged By <small
                                                    class="red"> *</small> :
                                                </label>
                                                <div class="col-sm-8">
                                                        <input id="idLodgedBy" type="text" name="mlLodgedBy"
                                                            class="form-control" th:value="${maintenanceLogById?.mlLodgedBy}"
                                                            readonly />
                                                </div>
                                            </div>
											<div class="form-group hide">
												<label class="col-sm-4 control-label no-padding-right"
													for="idLodgedModifiedBy"> Lodged Modified By: </label>
												<div class="col-sm-8">
													<input id="idLodgedModifiedBy" type="text" name="mlLodgedModifiedBy"
														class="col-xs-12 col-sm-12"
														th:value="${currentUser.email}" required readonly />
													<div class="help-block with-errors"></div>
												</div>
											</div>
											<div class="clearfix">
												<button type="submit" id="btnUploadFile"
													class="width-65 pull-right btn btn-sm btn-success">
													<span class="bigger-110"> Submit </span> <i
														class="ace-icon fa fa-arrow-right icon-on-right"></i>
												</button>
											</div>
										</div>
									</form>
						</div>
					</div>
				</div>
		</div>                     
<!-- basic scripts -->
	<th:block layout:fragment="scripts">
	<script>
		$(document).ready(function () {
					

	     });
	</script>		
	 <script th:inline="javascript">
		/*<![CDATA[*/
		var branchNameType = /*[[${maintenanceLogById.branchName}]]*/ 'BranchName';
		var dispatchedMediumType = /*[[${maintenanceLogById.maintenanceRequestFor}]]*/ 'maintenanceRequestFor';
		/*]]>*/
		function setSelectedIndex(s, v) {
		    for ( var i = 0; i < s.options.length; i++ ) {
		        if ( s.options[i].value == v ) {
		            s.options[i].selected = true;
		            break;
		        }
		    }
		    return;
		}
		setSelectedIndex(document.getElementById('idBranchnameVal'), branchNameType);
		setSelectedIndex(document.getElementById('idMaintenanceRequestFor'), dispatchedMediumType);

	</script>
	

	<script>
			autosize(document.querySelectorAll('textarea'));
	</script>

	 <script>
			$(document).ready(function() {
				$('.select2').css('width', '100%').select2({});
				
				$(".date-picker").datepicker({
					format : "yyyy-mm-dd",
					autoclose : true,
					todayBtn : "linked",
					todayHighlight : true
				});
				
				$('#idMaintenanceRemarks').inputlimiter({
					remText : '%n character%s remaining...',
					limitText : 'max allowed : %n.'
				});

				$('#idPresentCardNumber').mask('99999', {
					autoclear : false
				});

			});
		</script>
	</th:block>
</body>
</html>
