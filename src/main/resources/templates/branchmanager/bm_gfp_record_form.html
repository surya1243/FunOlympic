<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{branchmanager/bm_layout/bm_default}">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta charset="utf-8" />
    <title> GFP Record Page</title>
    <th:block layout:fragment="styles">
        
    </th:block>
</head>
<body>
<div >
    <div  class="main-container">
        <div class="main-content">
            <div class="page-content" layout:fragment="content">
                <div class="page-header">
                    <h1>
                        <i class="ace-icon fa fa-bullhorn"></i>
                        Good For Payment (GFP) Record Form
                    </h1>
                </div><!-- /.page-header -->
				<div class="row">
                    <div th:if="${message}">
                        <h2 class="alert alert-danger" th:text="${message}"/>
                    </div>
						<div class="col-xs-12">
							<form th:object="${goodForPayment}" method="POST" autocomplete="off"
								th:action="@{/bm/gfp}" class="form-horizontal"
								data-toggle="validator" role="form">
								<div class="col-sm-6 col-sm-offset-2">
									<div class="form-group">
										<label class="col-sm-4 control-label no-padding-right" for="date-timepicker1"> Issue Date<small class="red"> *</small> : </label>
										<div class="col-sm-8">
										<input id="date-timepicker1" type="text" name="issueDate" class="col-xs-10 col-sm-12 date-picker" 
												data-date-format="yyyy-mm-dd" placeholder="Select Cheque Issue date" required/>
											<span class="help-inline col-xs-12 col-sm-7">
											</span>
										</div>
									</div>	
									<div class="form-group">
									<label class="col-sm-4 control-label no-padding-right" for="branchName-dropdown"> Issued Branch<small class="red"> *</small> : </label>
										<div class="col-sm-8">
											<select class="chosen-select col-xs-10 col-sm-12" id="idBranchName" name="branchName"
				                                    data-placeholder="Choose Branch..." required>
				                                <option th:text="${branchVal}"
				                                        th:value="${branchVal}"
				                                        th:selected="${branchVal}"></option>
				                            </select>
											<div class="help-block with-errors"></div>
										</div>
									</div>																	
									<div class="form-group">
										<label class="col-sm-4 control-label no-padding-right"
											for="date-timepicker2"> Cheque Date<small class="red"> *</small> : </label>
										<div class="col-sm-8">
											<input id="date-timepicker2" type="text" name="chequeDate" class="col-xs-10 col-sm-12 date-picker" 
												data-date-format="yyyy-mm-dd" placeholder="Select Cheque date" required/>
											<div class="help-block with-errors"></div>
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-4 control-label no-padding-right"
											for="idPartysName"> Party's Name<small class="red"> *</small> :</label>
										<div class="col-sm-8">
											<input name="partiesName" id="idPartysName"
												style="text-transform: uppercase;" 
                                                onkeyup="this.value = this.value.toUpperCase();"
												placeholder="Enter Party's Name" type="text"
												class="col-xs-10 col-sm-12" required/>
												<div class="help-block with-errors"></div>
										</div>
									</div>									
									<div class="form-group">
										<label class="col-sm-4 control-label no-padding-right"
											for="idAccountNumber"> Account Number<small class="red"> *</small> : </label>
										<div class="col-sm-8">
											<input name="accountNumber" id="idAccountNumber"
												pattern="^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9]*$"
															onblur="this.parentNode.parentNode.style.backgroundColor=/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9]*$/.test(this.value)?'inherit':'transparent'"
															placeholder="Enter Account Number (20 digits)"
												type="text" data-error="Please enter 20 digits  Account Number"
												class="col-xs-10 col-sm-12" required/>
												<div class="help-block with-errors"></div>
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-4 control-label no-padding-right"
											for="idAccountHolderName"> Account Holder's Name<small class="red"> *</small> : </label>
										<div class="col-sm-8">
											<input name="accountHolderName" id="idAccountHolderName"
												style="text-transform: uppercase;" 
                                                onkeyup="this.value = this.value.toUpperCase();"
												placeholder="Enter Account Holder's Name" type="text"
												class="col-xs-10 col-sm-12" required/>
												<div class="help-block with-errors"></div>
										</div>
									</div>
																		
									<div class="form-group">
										<label class="col-sm-4 control-label no-padding-right"
											for="idAmount"> Amount<small class="red"> *</small> : </label>
										<div class="col-sm-8">
											<input name="amount" id="idAmount" step="0.01"
												placeholder="Enter Amount" type="number"
												class="col-xs-10 col-sm-12" required/>
												<div class="help-block with-errors"></div>
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-4 control-label no-padding-right"
											for="idPurposeOfPayment"> Purpose of Payment<small class="red"> *</small> : </label>
										<div class="col-sm-8">
											<textarea name="purposeOfPayment" placeholder="Description"
												id="idPurposeOfPayment" class="col-xs-10 col-sm-12" required></textarea>
												<div class="help-block with-errors"></div>
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-4 control-label no-padding-right"
											for="idSystemInputBy"> System Input By<small class="red"> *</small> : </label>
										<div class="col-sm-8">
											<input name="systemInputBy" id="idSystemInputBy"
												placeholder="System Input By" type="text"
												class="col-xs-10 col-sm-12" required/>
												<div class="help-block with-errors"></div>
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-4 control-label no-padding-right"
											for="idSystemApprovedBy"> System Approved By<small class="red"> *</small> : </label>
										<div class="col-sm-8">
											<input name="systemApprovedBy" id="idSystemApprovedBy"
												placeholder="System Approved By" type="text"
												class="col-xs-10 col-sm-12" required/>
												<div class="help-block with-errors"></div>
										</div>
									</div>	
									<div class="form-group">
										<label class="col-sm-4 control-label no-padding-right"
											for="idGFPStauts"> GFP Status<small class="red"> *</small> : </label>
										<div class="col-sm-8">
											<select class="chosen-select col-xs-10 col-sm-12"
												id="idGFPStauts" name="gfpStatus"
												data-placeholder="Choose a GFP Status..." required>
												<option value=""></option>
												<option value="Active" selected> Active </option>
												<option value="Paid"> Paid </option>
												<option value="Cancel"> Cancel </option>
											</select>
											<div class="help-block with-errors"></div>
										</div>
									</div>
									<div class="form-group" id="idPaidCancelDateOpt">
										<label class="col-sm-4 control-label no-padding-right"
											for="idPaidCancelDate"> Paid/Cancel Date: </label>
										<div class="col-sm-8">
											<input name="paidCancelDate" id="idPaidCancelDate" data-date-format="yyyy-mm-dd" 
												placeholder="Select Paid/Cancel Date" type="text"
												 class="col-xs-10 col-sm-12 date-picker">
												 <div class="help-block with-errors"></div>
										</div>
									</div>
									<div class="clearfix form-actions">
												<button class="width-30 pull-left btn btn-sm" type="reset">
													<i class="ace-icon fa fa-refresh"></i> <span
														class="bigger-110">Reset</span>
												</button>
										<button type="submit"
											class="width-65 pull-right btn btn-sm btn-success">
											<span class="bigger-110"> Submit </span> <i
												class="ace-icon fa fa-arrow-right icon-on-right"></i>
										</button>
									</div>									

								</div>
							</form>
						</div>
					</div>
</div>                     
</div>
</div>
</div>

<!-- basic scripts -->
<th:block layout:fragment="scripts">
 	<script>
		autosize(document.querySelectorAll('textarea'));
	</script>
	<script>
	$(document).ready(function(){
		$('#idPaidCancelDateOpt').hide();
		$("#idGFPStauts").change(function() {
			showResolvedDateBox();
	    });
	});
	
	$('#idAccountNumber').mask('99999999999999999999', {
		autoclear : false
	});
	
	function showResolvedDateBox(){
		let statusValue = $('#idGFPStauts').val();
		if(!(statusValue==='Active')){
			$('#idPaidCancelDateOpt').show();
			$("[name='paidCancelDate']").attr("required", true);
		}else{
			$('#idPaidCancelDateOpt').hide();
		}
	}
	
	</script>
    <script>
	if(!ace.vars['touch']) {
		$('.chosen-select').chosen({allow_single_deselect:true}); 
		//resize the chosen on window resize
		$(window)
		.off('resize.chosen')
		.on('resize.chosen', function() {
			$('.chosen-select').each(function() {
				 var $this = $(this);
				 $this.next().css({'width': $this.width()});
			})
		}).trigger('resize.chosen');
		//resize chosen on sidebar collapse/expand
		$(document).on('settings.ace.chosen', function(e, event_name, event_val) {
			if(event_name != 'sidebar_collapsed') return;
			$('.chosen-select').each(function() {
				 var $this = $(this);
				 $this.next().css({'width': $this.parent().width()});
			})
		});
	}
	
	$(function() {
		$('.date-picker').datepicker({
			format : "yyyy-mm-dd",
			autoclose : true,
			todayBtn : "linked",
			todayHighlight : true
		}).datepicker('update', new Date());
	});
    </script>
</th:block>

</body>
</html>
