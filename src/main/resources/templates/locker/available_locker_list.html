<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/default}">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta charset="utf-8" />
<title>Assign Locker</title>

<th:block layout:fragment="styles">
<style>

.autocomplete-suggestions { border: 1px solid #999; background: #FFF; overflow: auto; }
.autocomplete-suggestion { padding: 2px 5px; white-space: nowrap; overflow: hidden; font-size:18px}
.autocomplete-selected { background: #F0F0F0; }
.autocomplete-suggestions strong { font-weight: bold; color: #3399FF; }
.autocomplete-group { padding: 2px 5px; }
.autocomplete-group strong { display: block; border-bottom: 1px solid #000; }

</style>
</th:block>
</head>
<body>
	<div layout:fragment="content">
		<div class="breadcrumbs ace-save-state" id="breadcrumbs">
			<ul class="breadcrumb">
				<li><i class="ace-icon fa fa-home home-icon"></i> <a href="#">Home</a>
				</li>
				<li><a href="#">Assign Locker</a></li>
				<li class="active">Assign Locker for Customer</li>
			</ul>
			<!-- /.breadcrumb -->
		</div>
		<div class="page-content">
			<div class="row">
				<div class="col-xs-12">
					<!-- PAGE CONTENT BEGINS -->
					<div th:if="${message}">
						<h2 class="alert alert-danger" th:text="${message}" />
					</div>
					<div th:if="${successMessage}">
						<div class="alert alert-success">
							<button type="button" class="close" data-dismiss="alert">
								<i class="ace-icon fa fa-times"></i>
							</button>
							<strong th:text="${successMessage}">Success!</strong> <br />
						</div>
					</div>
				</div>
		</div>
		<div class="page-header">
			<div class="row">
				<div class="col-xs-12 col-sm-6">
					<h1>
						<i class="ace-icon fa fa-key"></i> Available Locker List
					</h1>
						<div class="space-8"></div>
				</div>
				<div class="col-xs-12 col-sm-3 pull-right">
					<form action="/availableLocker">
						<div class="input-group">
							<input type="text" class="form-control" placeholder="Type Locker ID" name="lockerId" id="idlockerId"/>
							<span class="input-group-btn">
								<button type="submit" class="btn btn-purple btn-sm">
									<span class="ace-icon fa fa-search icon-on-right bigger-110"></span>
									Search
								</button>
							</span>
						</div>
					</form>
				</div>
			</div>																
		</div>
			<!-- /.page-header -->
			<div class="row">
				<div class="col-xs-12">
					<div class="row" >									
								<div class="col-xs-3 col-sm-2 pricing-box" th:each="lockerList, index :${lockerList}">	
								<div class =""></div>
										<div class="widget-box pricing-box-small widget-color-blue2">
											<div class="widget-header">
												<h5 class="widget-title larger lighter" th:text="${lockerList?.lockerId}"> Locker Id</h5>
											</div>
											<div class="widget-body">
												<div class="widget-main no-padding">
													<ul class="list-unstyled list-striped pricing-table">
														<li th:text="${lockerList?.lockerStatus}"> Type :  </li>
														<li th:text="${lockerList?.lockerSize}" > </li>
														<li class="center" th:switch="${lockerList?.lockerSize}">
															<span th:case="'A'"> (6"H X 8"W) </span>
														    <span th:case="'B'"> (6"H X 16"W) </span>
														    <span th:case="'C'"> (12"H X 16"W) </span>
														</li>
													</ul>														
												</div>
												<div th:if="${lockerList?.enabled}">
													<a th:href="@{'/viewUserLocker/'+${lockerList?.checkLockerVal}}" title="View Locker Details"
													class="btn btn-block no-border btn-sm btn-danger">
														<span>Occupied</span>
													</a>
												</div>
												<div th:unless="${lockerList?.enabled}">
													<a th:href="@{'/addUserLocker/'+${lockerList?.id}}" title="Locker is Available for Customer"
													class="btn btn-block no-border btn-sm btn-success">
														<span>Available</span>
													</a>
												</div>												
											</div>
										</div>
								</div>
							</div>							
				</div>
			</div>
		</div>
	</div>

	<!-- basic scripts -->
	<th:block layout:fragment="scripts">
<script src="../static/js/jquery.autocomplete.min.js"
			th:src="@{/js/jquery.autocomplete.min.js/}"></script>

		<script>
			
	$(document).ready(function() {

		$('#idlockerId').autocomplete({
			serviceUrl: '/getLockerIdTags',
			paramName: "lockerId",
			delimiter: ",",
		    transformResult: function(response) {
		        return {
		        	
		            suggestions: $.map($.parseJSON(response), function(item) {
		            	
		                return { value: item.lockerId, data: item.lockerId };
		            })
		        };
		    }
		});
	});
	</script>
	</th:block>
</body>
</html>
