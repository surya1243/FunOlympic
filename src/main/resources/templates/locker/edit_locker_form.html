<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/default}">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta charset="utf-8" />
<title>Update Locker Page</title>

<th:block layout:fragment="styles">
</th:block>
</head>
<body>
	<div>
		<div class="main-container">
			<div class="main-content">
				<div class="page-content" layout:fragment="content">
					<div class="page-header">
						<h1>
							<i class="ace-icon fa fa-key"></i> Update Locker details
						</h1>
					</div>
					<!-- /.page-header -->
					<div class="row">
						<div th:if="${message}">
							<h2 class="alert alert-danger" th:text="${message}" />
						</div>
						<div class="space-12"></div>
						<form th:action="@{/updateLocker}" action="/updateLocker"
							class="form-horizontal" data-toggle="validator" role="form"
							th:object="${locker}" method="POST" modelAttribute="locker">
							<input type="hidden" name="id" th:value="${lockerValue.id}"/>
							<div class="col-sm-7 col-sm-offset-2">
								<div class="profile-user-info profile-user-info-striped">
									<div class="profile-info-row">
										<div class="profile-info-name">Locker ID *</div> 
										<div class="profile-info-value form-group">
										<input class="form-control" name="lockerId"
												th:value="${lockerValue.lockerId}"
												data-error="Please enter locker ID field." id="idLockerId"
												 pattern="^[a-zA-Z0-9-]{2,7}$" style="text-transform: uppercase;" 
                                                 onkeyup="this.value = this.value.toUpperCase();" required />
												
                                          <small class="text-danger" id="textExample">Follow the pattern, e.g. <span class="bolder" >(001-001)</span>
												  Here, 001=BranchCode where Locker exists and 001=LockerID with Three Digits</small>
												<div class="help-block with-errors"></div>
										</div>										
									</div>
									<div class="profile-info-row">
										<div class="profile-info-name">Locker Size *</div>
										<div class="profile-info-value form-group">
		 	                                <select class="form-control select2" id="idLockerSize" name="lockerSize" required>
			                                    <option value="" disabled selected>Choose Locker size...</option>
			                                    <option value="A"> A (6"H X 8"W) </option>
			                                   	<option value="B"> B (6"H X 16"W) </option>
			                                    <option value="C"> C (12"H X 16"W) </option>
			                                </select>
												<div class="help-block with-errors"></div>
										</div>
									</div>
									<div class="profile-info-row">
										<div class="profile-info-name">Key Number</div>
										<div class="profile-info-value form-group">
											<input type="text" class="form-control"
												th:value="${lockerValue.keyNo}" id="idKeyNo" name ="keyNo"
												placeholder="Enter Key Number" required>
												<div class="help-block with-errors"></div>
										</div>
									</div>

									<div class="profile-info-row">
										<div class="profile-info-name">Branch (Locker Exist) *</div>
										<div class="profile-info-value form-group">
		 	                                <select class="form-control select2" data-placeholder="Choose Fiscal Year..." id="idBranch" name="branchName" required>
												<option value="" disabled selected>Choose Branch Name...</option>
												<option th:each="branchNameVal : ${branchNameVal}"
														th:value="${branchNameVal.branchName}"
														th:text="${branchNameVal.branchName}"></option>
											</select>
												<div class="help-block with-errors"></div>
										</div>
									</div>
											
									<div class="profile-info-row">
										<div class="profile-info-name">Remarks</div>
										<div class="profile-info-value form-group">
											<input type="text" class="form-control"
												th:value="${lockerValue.remarks}" id="inputRemark" name ="remarks"
												placeholder="Remarks">
												<div class="help-block with-errors"></div>
										</div>
									</div>
									<input type="text" name="lockerStatus" th:value="${lockerValue.lockerStatus}" hidden/>
									<input type="text" name="enabled" th:value="${lockerValue.enabled}" hidden/>

								</div>
							</div>
							<div class="clearfix form-actions col-xs-offset-4 col-xs-3">
								<a class="btn btn-sm btn-danger" th:href="@{/lockerform}">
									Cancel </a>
								<button type="submit"
									class="width-65 pull-right btn btn-sm btn-success">
									<span class="bigger-110"> Update </span> <i
										class="ace-icon fa fa-arrow-right icon-on-right"></i>
								</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
<th:block layout:fragment="scripts">
	<script src="../static/js/jquery.maskedinput.min.js"
			th:src="@{/js/jquery.maskedinput.min.js/}"></script>
		<script>
			$(document).ready(function() {
				$('.select2').css('width', '100%').select2({});
			});
		</script>
		
	<script>
		$(document).ready(function() {
			$('#textExample').hide();
				$("#idLockerId")
				.mouseover(function() {
					$('#textExample').show();
				})
				.mouseleave(function() {
					$('#textExample').hide();
				});
		});
		$('.input-mask-date').mask('9999/99');
		$('.input-mask-mobile').mask('9999999999',{autoclear: false});
		$('#idLockerId').mask('999-999',{autoclear: false});	
		
		
	</script>

	<script th:inline="javascript">
		/*<![CDATA[*/
		var lockerSize = /*[[${lockerValue.lockerSize}]]*/ 'LockerSize';
		var branchNameType = /*[[${lockerValue.branchName}]]*/ 'BranchName';
		/*]]>*/
		function setSelectedIndex(s, v) {
		    for ( var i = 0; i < s.options.length; i++ ) {
		        if ( s.options[i].value == v ) {
		            s.options[i].selected = true;
		            break;
		        }
		    }
		    return;
		}
		setSelectedIndex(document.getElementById('idLockerSize'),lockerSize);
		setSelectedIndex(document.getElementById('idBranch'),branchNameType);
	</script>

</th:block>
</html>